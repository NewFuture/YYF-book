
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Orm 数据对象映射 · YYF Book | YYF文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        <meta name="author" content="New Future">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="database.html" />
    
    
    <link rel="prev" href="model.html" />
    

    <link rel="canonical" href="https://yyf.newfuture.cc/database/orm.html">

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://github.com/YunYinORG/YYF" target="_blank" class="custom-link">YYF</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">简介</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    YYF简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../about/">
            
                <a href="../about/">
            
                    
                        <b>1.2.</b>
                    
                    快速上手
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                        <b>1.3.</b>
                    
                    [对比(更新中)]
            
                </span>
            

            
        </li>
    

    
        
        <li class="header">环境和安装</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../setup/">
            
                <a href="../setup/">
            
                    
                        <b>2.1.</b>
                    
                    基本环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../setup/develop.html">
            
                <a href="../setup/develop.html">
            
                    
                        <b>2.2.</b>
                    
                    开发环境配置
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../setup/develop.html">
            
                <a href="../setup/develop.html#vm">
            
                    
                        <b>2.2.1.</b>
                    
                    虚拟机环境
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1.1" data-path="../setup/vm-in-windows.html">
            
                <a href="../setup/vm-in-windows.html">
            
                    
                        <b>2.2.1.1.</b>
                    
                    Windows 下虚拟机
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.1.2" data-path="../setup/vm-in-linux.html">
            
                <a href="../setup/vm-in-linux.html">
            
                    
                        <b>2.2.1.2.</b>
                    
                    Linux和Mac虚拟机
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../setup/develop.html">
            
                <a href="../setup/develop.html#local">
            
                    
                        <b>2.2.2.</b>
                    
                    本机开发
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.2.1" data-path="../setup/yyf-in-windows.html">
            
                <a href="../setup/yyf-in-windows.html">
            
                    
                        <b>2.2.2.1.</b>
                    
                    Windows 下配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2.2" data-path="../setup/yyf-in-linux.html">
            
                <a href="../setup/yyf-in-linux.html">
            
                    
                        <b>2.2.2.2.</b>
                    
                    Linux和Mac配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../setup/docker.html">
            
                <a href="../setup/docker.html">
            
                    
                        <b>2.3.</b>
                    
                    Docker运行环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../setup/yyf-in-server.html">
            
                <a href="../setup/yyf-in-server.html">
            
                    
                        <b>2.4.</b>
                    
                    服务器-生产环境
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">架构</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../architecture/folder-structure.html">
            
                <a href="../architecture/folder-structure.html">
            
                    
                        <b>3.1.</b>
                    
                    目录结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../architecture/mvc.html">
            
                <a href="../architecture/mvc.html">
            
                    
                        <b>3.2.</b>
                    
                    MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../architecture/rest.html">
            
                <a href="../architecture/rest.html">
            
                    
                        <b>3.3.</b>
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../architecture/standard.html">
            
                <a href="../architecture/standard.html">
            
                    
                        <b>3.4.</b>
                    
                    格式规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../architecture/lifecircle.html">
            
                <a href="../architecture/lifecircle.html">
            
                    
                        <b>3.5.</b>
                    
                    运行生命周期
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">配置</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../configure/">
            
                <a href="../configure/">
            
                    
                        <b>4.1.</b>
                    
                    配置类型和特点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../configure/config.html">
            
                <a href="../configure/config.html">
            
                    
                        <b>4.2.</b>
                    
                    Config 配置读取
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">控制器</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../controller/rest.html">
            
                <a href="../controller/rest.html">
            
                    
                        <b>5.1.</b>
                    
                    REST控制器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../controller/yaf.html">
            
                <a href="../controller/yaf.html">
            
                    
                        <b>5.2.</b>
                    
                    YAF控制器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../controller/error.html">
            
                <a href="../controller/error.html">
            
                    
                        <b>5.3.</b>
                    
                    错误处理
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">数据库与Model</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>6.1.</b>
                    
                    数据库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="example.html">
            
                <a href="example.html">
            
                    
                        <b>6.2.</b>
                    
                    示例代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="db.html">
            
                <a href="db.html">
            
                    
                        <b>6.3.</b>
                    
                    Db 辅助类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="model.html">
            
                <a href="model.html">
            
                    
                        <b>6.4.</b>
                    
                    Model 数据模型
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="6.5" data-path="orm.html">
            
                <a href="orm.html">
            
                    
                        <b>6.5.</b>
                    
                    Orm 数据对象映射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="database.html">
            
                <a href="database.html">
            
                    
                        <b>6.6.</b>
                    
                    Database 数据库连接
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">调试</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../debug/">
            
                <a href="../debug/">
            
                    
                        <b>7.1.</b>
                    
                    调试方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../debug/header.html">
            
                <a href="../debug/header.html">
            
                    
                        <b>7.2.</b>
                    
                    header
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../debug/assert.html">
            
                <a href="../debug/assert.html">
            
                    
                        <b>7.3.</b>
                    
                    assert 断言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../debug/logger.html">
            
                <a href="../debug/logger.html">
            
                    
                        <b>7.4.</b>
                    
                    Logger 日志管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" >
            
                <span>
            
                    
                        <b>7.5.</b>
                    
                    [异常(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="../debug/sql.html">
            
                <a href="../debug/sql.html">
            
                    
                        <b>7.6.</b>
                    
                    数据库调试
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">路由</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../route/">
            
                <a href="../route/">
            
                    
                        <b>8.1.</b>
                    
                    默认路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../route/config.html">
            
                <a href="../route/config.html">
            
                    
                        <b>8.2.</b>
                    
                    路由配置
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.2.1" data-path="../route/config.html">
            
                <a href="../route/config.html#rewrite">
            
                    
                        <b>8.2.1.</b>
                    
                    重写路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2.2" data-path="../route/config.html">
            
                <a href="../route/config.html#regex">
            
                    
                        <b>8.2.2.</b>
                    
                    正则路由
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">[输入]</li>
        
        
    
        <li class="chapter " data-level="9.1" >
            
                <span>
            
                    
                        <b>9.1.</b>
                    
                    [input(更新中)]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" >
            
                <span>
            
                    
                        <b>9.1.1.</b>
                    
                    [请求方式(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" >
            
                <span>
            
                    
                        <b>9.1.2.</b>
                    
                    [过滤和回调(更新中)]
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../input/cookie.html">
            
                <a href="../input/cookie.html">
            
                    
                        <b>9.2.</b>
                    
                    Cookie加密
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" >
            
                <span>
            
                    
                        <b>9.3.</b>
                    
                    [参数自动绑定(更新中)]
            
                </span>
            

            
        </li>
    

    
        
        <li class="header">存储</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../storage/">
            
                <a href="../storage/">
            
                    
                        <b>10.1.</b>
                    
                    快速存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../storage/cache.html">
            
                <a href="../storage/cache.html">
            
                    
                        <b>10.2.</b>
                    
                    Cache 缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="../storage/kv.html">
            
                <a href="../storage/kv.html">
            
                    
                        <b>10.3.</b>
                    
                    Kv 键值对存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="../storage/session.html">
            
                <a href="../storage/session.html">
            
                    
                        <b>10.4.</b>
                    
                    Session 存取
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">[安全]</li>
        
        
    
        <li class="chapter " data-level="11.1" >
            
                <span>
            
                    
                        <b>11.1.</b>
                    
                    [常用加密(更新中)]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1.1" >
            
                <span>
            
                    
                        <b>11.1.1.</b>
                    
                    [格式保留加密(更新中)]
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../safety/rsa.html">
            
                <a href="../safety/rsa.html">
            
                    
                        <b>11.2.</b>
                    
                    RSA非对称加密
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" >
            
                <span>
            
                    
                        <b>11.3.</b>
                    
                    [安全统计(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../safety/cors.html">
            
                <a href="../safety/cors.html">
            
                    
                        <b>11.4.</b>
                    
                    CORS 跨站请求
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">[库]</li>
        
        
    
        <li class="chapter " data-level="12.1" >
            
                <span>
            
                    
                        <b>12.1.</b>
                    
                    [文件上传(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="12.2" >
            
                <span>
            
                    
                        <b>12.2.</b>
                    
                    [邮件(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="12.3" >
            
                <span>
            
                    
                        <b>12.3.</b>
                    
                    [短信(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="../library/wechat.html">
            
                <a href="../library/wechat.html">
            
                    
                        <b>12.4.</b>
                    
                    Wechat微信
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">前端插件</li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <a target="_blank" href="http://debugger.newfuture.cc/">
            
                    
                        <b>13.1.</b>
                    
                    YYF-Debugger调试插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" >
            
                <a target="_blank" href="https://github.com/YunYinORG/YYFJS/">
            
                    
                        <b>13.2.</b>
                    
                    YYFJS API请求接口库
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">[优化]</li>
        
        
    
        <li class="chapter " data-level="14.1" >
            
                <span>
            
                    
                        <b>14.1.</b>
                    
                    [php优化(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="14.2" >
            
                <span>
            
                    
                        <b>14.2.</b>
                    
                    [yaf配置(更新中)]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="14.3" >
            
                <span>
            
                    
                        <b>14.3.</b>
                    
                    [apache(更新中)]
            
                </span>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Orm 数据对象映射</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#651-orm-&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;"><b>6.5.1. </b>ORM &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;</a></li><ul><li><span class="title-icon "></span><a href="#6511-&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868;-"><b>6.5.1.1. </b>&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868; </a></li><li><span class="title-icon "></span><a href="#6512-&#x521B;&#x5EFA;orm-"><b>6.5.1.2. </b>&#x521B;&#x5EFA;Orm </a></li><ul><li><span class="title-icon "></span><a href="#65121-1-new&#x521B;&#x5EFA;-"><b>6.5.1.2.1. </b>1. new&#x521B;&#x5EFA; </a></li><li><span class="title-icon "></span><a href="#65122-2-db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528;-"><b>6.5.1.2.2. </b>2. Db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528; </a></li><li><span class="title-icon "></span><a href="#65123-3-model&#x7C7B;&#x521B;&#x5EFA;-"><b>6.5.1.2.3. </b>3. Model&#x7C7B;&#x521B;&#x5EFA; </a></li></ul><li><span class="title-icon "></span><a href="#6513-&#x57FA;&#x672C;&#x64CD;&#x4F5C;-"><b>6.5.1.3. </b>&#x57FA;&#x672C;&#x64CD;&#x4F5C; </a></li><ul><li><span class="title-icon "></span><a href="#65131-&#x67E5;&#x8BE2;&#x6570;&#x636E;-query-"><b>6.5.1.3.1. </b>&#x67E5;&#x8BE2;&#x6570;&#x636E; (query) </a></li><li><span class="title-icon "></span><a href="#65132-&#x6DFB;&#x52A0;&#x6570;&#x636E;-insert-"><b>6.5.1.3.2. </b>&#x6DFB;&#x52A0;&#x6570;&#x636E; (insert) </a></li><li><span class="title-icon "></span><a href="#65133-&#x8DDF;&#x65B0;&#x6570;&#x636E;-update-"><b>6.5.1.3.3. </b>&#x8DDF;&#x65B0;&#x6570;&#x636E; (update) </a></li><li><span class="title-icon "></span><a href="#65134-delete&#x65B9;&#x6CD5;&#xFF1A;-&#x5220;&#x9664;&#x6570;&#x636E;-"><b>6.5.1.3.4. </b>delete()&#x65B9;&#x6CD5;&#xFF1A; &#x5220;&#x9664;&#x6570;&#x636E; </a></li></ul><li><span class="title-icon "></span><a href="#6514-&#x6761;&#x4EF6;&#x9650;&#x5236;-condition-"><b>6.5.1.4. </b>&#x6761;&#x4EF6;&#x9650;&#x5236; (condition) </a></li><ul><li><span class="title-icon "></span><a href="#65141-&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;"><b>6.5.1.4.1. </b>&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;</a></li><li><span class="title-icon "></span><a href="#65142-&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists--"><b>6.5.1.4.2. </b>&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists  </a></li><li><span class="title-icon "></span><a href="#65143-&#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD;-"><b>6.5.1.4.3. </b>&#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD; </a></li><li><span class="title-icon "></span><a href="#65144-&#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09;-"><b>6.5.1.4.4. </b>&#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09; </a></li><li><span class="title-icon "></span><a href="#65145-&#x5B57;&#x6BB5;-"><b>6.5.1.4.5. </b>&#x5B57;&#x6BB5; </a></li><li><span class="title-icon "></span><a href="#65146-&#x6392;&#x5E8F;-"><b>6.5.1.4.6. </b>&#x6392;&#x5E8F; </a></li><li><span class="title-icon "></span><a href="#65147-&#x5206;&#x9875;"><b>6.5.1.4.7. </b>&#x5206;&#x9875;</a></li></ul><li><span class="title-icon "></span><a href="#6515-&#x51FD;&#x6570;-function"><b>6.5.1.5. </b>&#x51FD;&#x6570; {function}</a></li><ul><li><span class="title-icon "></span><a href="#65151-&#x805A;&#x5408;&#x51FD;&#x6570;"><b>6.5.1.5.1. </b>&#x805A;&#x5408;&#x51FD;&#x6570;</a></li><li><span class="title-icon "></span><a href="#65152-&#x81EA;&#x589E;&#x81EA;&#x51CF;&#x5199;&#x64CD;&#x4F5C;"><b>6.5.1.5.2. </b>&#x81EA;&#x589E;&#x81EA;&#x51CF;(&#x5199;&#x64CD;&#x4F5C;)</a></li></ul><li><span class="title-icon "></span><a href="#6516-&#x591A;&#x8868;&#x64CD;&#x4F5C;-"><b>6.5.1.6. </b>&#x591A;&#x8868;&#x64CD;&#x4F5C; </a></li><ul><li><span class="title-icon "></span><a href="#65161-&#x591A;&#x8868;&#x67E5;&#x8BE2;"><b>6.5.1.6.1. </b>&#x591A;&#x8868;&#x67E5;&#x8BE2;</a></li><li><span class="title-icon "></span><a href="#65162-&#x5408;&#x5E76;&#x67E5;&#x8BE2;"><b>6.5.1.6.2. </b>&#x5408;&#x5E76;&#x67E5;&#x8BE2;</a></li></ul><li><span class="title-icon "></span><a href="#6517-&#x5176;&#x4ED6;-"><b>6.5.1.7. </b>&#x5176;&#x4ED6; </a></li><ul><li><span class="title-icon "></span><a href="#65171-autoclear&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><b>6.5.1.7.1. </b>autoClear()&#x65B9;&#x6CD5;: &#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA; </a></li><li><span class="title-icon "></span><a href="#65172-debug&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><b>6.5.1.7.2. </b>debug()&#x65B9;&#x6CD5;: &#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA; </a></li><li><span class="title-icon "></span><a href="#65173-safe&#x65B9;&#x6CD5;&#x5B89;&#x5168;&#x6A21;&#x5F0F;-"><b>6.5.1.7.3. </b>safe()&#x65B9;&#x6CD5;:&#x5B89;&#x5168;&#x6A21;&#x5F0F; </a></li><li><span class="title-icon "></span><a href="#65174-clear&#x65B9;&#x6CD5;-&#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2;-"><b>6.5.1.7.4. </b>clear()&#x65B9;&#x6CD5;: &#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2; </a></li><li><span class="title-icon "></span><a href="#65175-&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93;-"><b>6.5.1.7.5. </b>&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93; </a></li><li><span class="title-icon "></span><a href="#65176-alias-&#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D;-"><b>6.5.1.7.6. </b>alias() &#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D; </a></li></ul><li><span class="title-icon "></span><a href="#6518-&#x6570;&#x636E;&#x64CD;&#x4F5C;"><b>6.5.1.8. </b>&#x6570;&#x636E;&#x64CD;&#x4F5C;</a></li><ul><li><span class="title-icon "></span><a href="#65181-&#x5B58;&#x53D6;&#x65B9;&#x6CD5;"><b>6.5.1.8.1. </b>&#x5B58;&#x53D6;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon "></span><a href="#65182-object&#x64CD;&#x4F5C;"><b>6.5.1.8.2. </b>Object&#x64CD;&#x4F5C;</a></li><li><span class="title-icon "></span><a href="#65183-array&#x63A5;&#x53E3;"><b>6.5.1.8.3. </b>Array&#x63A5;&#x53E3;</a></li><li><span class="title-icon "></span><a href="#65184-json&#x5E8F;&#x5217;&#x5316;"><b>6.5.1.8.4. </b>JSON&#x5E8F;&#x5217;&#x5316;</a></li></ul></ul></ul></div><a href="#651-orm-&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="651-orm-&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;"><a name="651-orm-&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;" class="anchor-navigation-ex-anchor" href="#651-orm-&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1. ORM &#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;</h1>
<p>Object-Relational Mapping&#xFF08;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#xFF09;</p>
<p>&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x7684;&#x5BF9;&#x8C61;&#x6838;&#x5FC3;&#x5C01;&#x88C5;</p>
<h2 id="6511-&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868;-"><a name="6511-&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868;-" class="anchor-navigation-ex-anchor" href="#6511-&#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.1. &#x5168;&#x90E8;&#x63A5;&#x53E3;&#x5217;&#x8868; </h2>
<ul>
<li><a href="#query">&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;</a><ul>
<li><a href="#select"><strong>select</strong> &#x6279;&#x91CF;&#x67E5;&#x8BE2;</a></li>
<li><a href="#find"><strong>find</strong> &#x5355;&#x6761;&#x67E5;&#x8BE2;</a></li>
<li><a href="#get"><strong>get</strong> &#x83B7;&#x53D6;&#x5355;&#x6761;&#x6216;&#x5355;&#x4E2A;&#x5C5E;&#x6027;</a></li>
</ul>
</li>
<li><a href="#insert-method">&#x63D2;&#x5165;&#x64CD;&#x4F5C;</a><ul>
<li><a href="#insert"><strong>insert</strong> &#x63D2;&#x5165;</a></li>
<li><a href="#insertAll">insertAll &#x6279;&#x91CF;&#x63D2;&#x5165;</a></li>
<li><a href="#add"><strong>add</strong> &#x6DFB;&#x52A0;</a></li>
</ul>
</li>
<li><a href="#update-method">&#x66F4;&#x65B0;&#x64CD;&#x4F5C;</a><ul>
<li><a href="#update"><strong>update</strong> &#x66F4;&#x65B0;&#x6570;&#x636E;</a></li>
<li><a href="#save"><strong>save</strong> &#x4FDD;&#x6301;&#x6570;&#x636E;</a></li>
<li><a href="#set"><strong>set</strong> &#x4FEE;&#x6539;&#x5C5E;&#x6027;</a></li>
<li><a href="#put"><strong>put</strong> &#x5FEB;&#x901F;&#x4FEE;&#x6539;&#x5B57;&#x6BB5;</a></li>
<li><a href="#increment"><strong>increment</strong> &#x5B57;&#x6BB5;&#x81EA;&#x589E;</a></li>
<li><a href="#decrement"><strong>decrement</strong> &#x5B57;&#x6BB5;&#x81EA;&#x51CF;</a></li>
</ul>
</li>
<li><a href="#delete"><strong>delete</strong> &#x5220;&#x9664;&#x64CD;&#x4F5C;</a></li>
<li><a href="#condition">&#x6761;&#x4EF6;&#x9650;&#x5236;</a><ul>
<li><a href="#where"><strong>where</strong> &#x8BBE;&#x7F6E;&#x6761;&#x4EF6;</a></li>
<li><a href="#orwhere"><strong>orwhere</strong> &#x8BBE;&#x7F6E;<code>&#x6216;&#x6761;&#x4EF6;</code></a></li>
<li><a href="#whereField">whereField &#x5B57;&#x6BB5;&#x5173;&#x7CFB;</a></li>
<li><a href="#orWhereField">orWhereField &#x5B57;&#x6BB5;<code>&#x6216;&#x5173;&#x7CFB;</code></a></li>
<li><a href="#having">having &#x8BA1;&#x7B97;&#x6761;&#x4EF6;</a></li>
<li><a href="#orHaving">orhaving &#x8BA1;&#x7B97;OR&#x6761;&#x4EF6;</a></li>
<li><a href="#exists">exists &#x5B50;&#x67E5;&#x8BE2;&#x5B58;&#x5728;</a></li>
<li><a href="#orExists">orExists &#x4E0D;&#x5B58;&#x5728;</a></li>
</ul>
</li>
<li><a href="#group-method">&#x7ED3;&#x679C;&#x7B5B;&#x9009;</a><ul>
<li><a href="#distinct">distinct &#x53BB;&#x91CD;</a></li>
<li><a href="#group">group &#x5206;&#x7EC4;</a></li>
<li><a href="#field">field &#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;</a></li>
<li><a href="#order"><strong>order</strong> &#x6392;&#x5E8F;</a></li>
<li><a href="#limit">limit &#x9650;&#x5236;&#x6570;&#x91CF;</a></li>
<li><a href="#page"><strong>page</strong> &#x7FFB;&#x9875;</a></li>
</ul>
</li>
<li><a href="#function">&#x805A;&#x5408;&#x51FD;&#x6570;</a><ul>
<li><a href="#count"><strong>count</strong> &#x7EDF;&#x8BA1;</a></li>
<li><a href="#sum"><strong>sum</strong> &#x6C42;&#x548C;</a></li>
<li><a href="#avg">avg &#x5747;&#x503C;</a></li>
<li><a href="#max">max &#x6700;&#x5927;&#x503C;</a></li>
<li><a href="#min">min &#x6700;&#x5C0F;&#x503C;</a></li>
</ul>
</li>
<li><a href="#multi-table">&#x591A;&#x8868;&#x64CD;&#x4F5C;</a><ul>
<li><a href="#join">join &#x63A5;&#x8868;</a></li>
<li><a href="#has"><strong>has</strong> &#x5305;&#x542B;&#x5916;&#x952E;&#x5173;&#x8054;</a></li>
<li><a href="#belongs"><strong>belongs</strong> &#x4ECE;&#x5C5E;&#x5916;&#x952E;&#x5173;&#x8054;</a></li>
<li><a href="#union">union &#x5408;&#x5E76;&#x67E5;&#x8BE2;</a></li>
<li><a href="#unionAll">unionAll &#x5408;&#x5E76;&#x67E5;&#x8BE2;&#x4E0D;&#x53BB;&#x91CD;</a></li>
</ul>
</li>
<li><a href="#others">&#x5176;&#x4ED6;&#x65B9;&#x6CD5;</a><ul>
<li><a href="#alias">alias &#x522B;&#x540D;</a></li>
<li><a href="#clear"><strong>clear</strong> &#x6E05;&#x7A7A;</a></li>
<li><a href="#transact"><strong>transact</strong> &#x4E8B;&#x52A1;</a></li>
<li><a href="#debug">debug &#x8C03;&#x8BD5;sql</a></li>
<li><a href="#autoClear">autoClear &#x81EA;&#x52A8;&#x6E05;&#x7A7A;</a></li>
<li><a href="#safe">safe &#x5B89;&#x5168;&#x6A21;&#x5F0F;</a></li>
<li><a href="#setDb">setDb &#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;</a></li>
</ul>
</li>
</ul>
<h2 id="6512-&#x521B;&#x5EFA;orm-"><a name="6512-&#x521B;&#x5EFA;orm-" class="anchor-navigation-ex-anchor" href="#6512-&#x521B;&#x5EFA;orm-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.2. &#x521B;&#x5EFA;Orm </h2>
<p>&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;ORM&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x6709;&#x8BF4;&#x660E;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x6B64;&#x5BF9;&#x8C61;&#x8BF4;&#x660E;</p>
<h3 id="65121-1-new&#x521B;&#x5EFA;-"><a name="65121-1-new&#x521B;&#x5EFA;-" class="anchor-navigation-ex-anchor" href="#65121-1-new&#x521B;&#x5EFA;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.2.1. 1. new&#x521B;&#x5EFA; </h3>
<p>&#x8FD9;&#x662F;&#x57FA;&#x672C;&#x7684;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;</p>
<pre><code class="lang-php">$orm=<span class="hljs-keyword">new</span> Orm(<span class="hljs-string">&apos;user&apos;</span>);<span class="hljs-comment">//&#x4E3A;user&#x8868;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;orm&#x5BF9;&#x8C61;,&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;id&#x4F5C;&#x4E3A;&#x4E3B;&#x952E;</span>
</code></pre>
<p><code>Orm</code>&#x6784;&#x9020;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A; <code>$table</code>, <code>$pk</code> , <code>$prefix</code></p>
<ul>
<li><code>$table</code>string    : &#x6570;&#x636E;&#x5E93;&#x8868;&#x540D;</li>
<li><code>[$pk]</code>string     : &#x4E3B;&#x952E;&#xFF0C;&#x9ED8;&#x8BA4;&quot;id&quot; </li>
<li><code>[$prefix]</code>string : &#x6570;&#x636E;&#x5E93;&#x8868;&#x524D;&#x7F00;,&#x9ED8;&#x8BA4;&#x8BFB;&#x53D6;&#x914D;&#x7F6E; </li>
</ul>
<pre><code class="lang-php">$orm=<span class="hljs-keyword">new</span> Orm(<span class="hljs-string">&apos;user&apos;</span>,<span class="hljs-string">&apos;uid&apos;</span>);<span class="hljs-comment">//&#x4E3A;user&#x8868;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;orm&#x5BF9;&#x8C61;&#xFF0C;&#x8BBE;&#x5B9A;&#x4E3B;&#x952E;uid</span>
</code></pre>
<h3 id="65122-2-db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528;-"><a name="65122-2-db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528;-" class="anchor-navigation-ex-anchor" href="#65122-2-db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.2.2. 2. Db&#x7C7B;&#x9759;&#x6001;&#x8C03;&#x7528; </h3>
<p>Db&#x7C7B;&#x63D0;&#x4F9B;&#x9759;&#x6001;&#x65B9;&#x6CD5;<code>table</code>&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;orm&#x5BF9;&#x8C61;</p>
<pre><code class="lang-php">$orm=<span class="hljs-keyword">new</span> Db::table(<span class="hljs-string">&apos;user&apos;</span>);<span class="hljs-comment">//&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x548C;Orm&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x81F4;</span>
</code></pre>
<h3 id="65123-3-model&#x7C7B;&#x521B;&#x5EFA;-"><a name="65123-3-model&#x7C7B;&#x521B;&#x5EFA;-" class="anchor-navigation-ex-anchor" href="#65123-3-model&#x7C7B;&#x521B;&#x5EFA;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.2.3. 3. Model&#x7C7B;&#x521B;&#x5EFA; </h3>
<p>&#x901A;&#x8FC7;<code>UserModel</code>&#x6765;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#xFF0C;&#x53C2;&#x89C1; <a href="model.html#create">Model&#x4E00;&#x8282;</a></p>
<h2 id="6513-&#x57FA;&#x672C;&#x64CD;&#x4F5C;-"><a name="6513-&#x57FA;&#x672C;&#x64CD;&#x4F5C;-" class="anchor-navigation-ex-anchor" href="#6513-&#x57FA;&#x672C;&#x64CD;&#x4F5C;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.3. &#x57FA;&#x672C;&#x64CD;&#x4F5C; </h2>
<h3 id="65131-&#x67E5;&#x8BE2;&#x6570;&#x636E;-query-"><a name="65131-&#x67E5;&#x8BE2;&#x6570;&#x636E;-query-" class="anchor-navigation-ex-anchor" href="#65131-&#x67E5;&#x8BE2;&#x6570;&#x636E;-query-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.3.1. &#x67E5;&#x8BE2;&#x6570;&#x636E; (query) </h3>
<p>&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x63D0;&#x4F9B;<code>select</code>&#xFF0C;<code>find</code>,<code>get</code> &#x4E09;&#x79CD;&#x65B9;&#x6CD5;</p>
<h4 id="select"><a name="select" class="anchor-navigation-ex-anchor" href="#select"><i class="fa fa-link" aria-hidden="true"></i></a>select()&#x65B9;&#x6CD5;: &#x6279;&#x91CF;&#x83B7;&#x53D6;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php"><span class="hljs-keyword">array</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">select</span><span class="hljs-params">([string $fields=<span class="hljs-string">&apos;&apos;</span>])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>$fields</code>[&#x53EF;&#x9009;] : &#x6307;&#x5B9A;&#x67E5;&#x8BE2;&#x7684;&#x5B57;&#x6BB5; &#x9017;&#x53F7;<code>,</code>&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x522B;&#x540D;&#x7528;<code>AS</code>&#x94FE;&#x63A5;</li>
<li>&#x8FD4;&#x56DE; <code>array</code>&#x591A;&#x7EF4;&#x6570;&#x7EC4;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$list=$orm-&gt;select(<span class="hljs-string">&apos;*&apos;</span>);<span class="hljs-comment">//&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x548C;&#x6240;&#x6709;&#x6570;&#x636E;</span>
$list=$orm-&gt;select(<span class="hljs-string">&apos;id AS uid,time&apos;</span>);<span class="hljs-comment">//&#x67E5;&#x8BE2;id&#x548C;time&#xFF0C;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E2D;id&#x7528;uid&#x8868;&#x793A;</span>
</code></pre>
<h4 id="find"><a name="find" class="anchor-navigation-ex-anchor" href="#find"><i class="fa fa-link" aria-hidden="true"></i></a>find() &#x65B9;&#x6CD5;: &#x5355;&#x6761;&#x6570;&#x636E;&#x8BFB;&#x53D6; </h4>
<p>find &#x65B9;&#x6CD5;&#x4F1A;&#x81EA;&#x52A8;&#x9650;&#x5236;&#x6570;&#x636E;&#x7684;&#x6761;&#x6570;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">find</span><span class="hljs-params">([mixed $id=null])</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570; :</p>
<ul>
<li><code>int</code>|<code>string</code> :  &#x6570;&#x636E;&#x7684;&#x4E3B;&#x952E;&#x503C;</li>
<li><code>array</code>: &#x67E5;&#x627E;&#x7684;&#x6761;&#x4EF6;&#x53C2;&#x770B;<a href="#where">where</a>&#x6570;&#x7EC4;&#x53C2;&#x6570;</li>
<li><code>NULL</code>: &#x65E0;&#x53C2;&#x6570;&#x4F7F;&#x7528;where&#x7B49;&#x8BBE;&#x7F6E;&#x67E5;&#x627E;</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE; <code>Orm</code> Object &#x6307;&#x5411;&#x8C03;&#x7528;&#x7684;<code>Orm</code>&#x5BF9;&#x8C61;&#x81EA;&#x8EAB;(&#x67E5;&#x8BE2;&#x6210;&#x529F;)&#x6216;<code>null</code>(&#x67E5;&#x8BE2;&#x5931;&#x8D25;) </p>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x4E3B;&#x952E;find*/</span>
$user=$orm-&gt;find(<span class="hljs-number">2</span>);<span class="hljs-comment">//&#x67E5;&#x8BE2;id&#x4E3A;2&#x7684;&#x6570;&#x636E;</span>

<span class="hljs-comment">/*&#x6570;&#x7EC4;&#x6761;&#x4EF6;*/</span>
$orm-&gt;find([
    <span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-number">2</span>,
    <span class="hljs-string">&apos;status&apos;</span>=&gt;<span class="hljs-number">1</span>
]);<span class="hljs-comment">//&#x67E5;&#x8BE2;id&#x4E3A;2&#xFF0C;status&#x4E3A;1&#x7684;&#x6570;&#x636E;</span>
</code></pre>
<h4 id="get"><a name="get" class="anchor-navigation-ex-anchor" href="#get"><i class="fa fa-link" aria-hidden="true"></i></a>get()&#x65B9;&#x6CD5;&#xFF1A;&#x83B7;&#x53D6;&#x5355;&#x6761;&#x6216;&#x8005;&#x5355;&#x4E2A;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">mixed <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span><span class="hljs-params">([string $key = <span class="hljs-string">&apos;&apos;</span>, boolean $auto_query = true])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>$key</code>[&#x53EF;&#x9009;] : &#x8981;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x952E;&#x503C;,&#x9ED8;&#x8BA4;&#x83B7;&#x53D6;&#x5168;&#x90E8;&#x6570;&#x636E;</li>
<li>&#x53C2;&#x6570; <code>$auto_query</code>[&#x53EF;&#x9009;] : &#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x9ED8;&#x8BA4;&#x81EA;&#x52A8;&#x67E5;&#x8BE2;</li>
<li>&#x8FD4;&#x56DE; <code>mixed</code> (<code>array</code>|&#x57FA;&#x672C;&#x7C7B;&#x578B;)&#xFF1A;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x83B7;&#x53D6;&#x5168;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x7EC4;&#x6216;&#x8005;null*/</span>
$user=$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">2</span>)-&gt;get();<span class="hljs-comment">//&#x67E5;&#x8BE2;id&#x4E3A;2&#x7684;&#x5168;&#x90E8;&#x6570;&#x636E;&#x6570;&#x636E;</span>
<span class="hljs-comment">/*&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x952E;&#x7684;&#x503C;*/</span>
$username=$orm-&gt;get(<span class="hljs-string">&apos;name&apos;</span>);<span class="hljs-comment">//&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x7684;&#x59D3;&#x540D;&#xFF0C;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5E93;</span>
</code></pre>
<h3 id="65132-&#x6DFB;&#x52A0;&#x6570;&#x636E;-insert-"><a name="65132-&#x6DFB;&#x52A0;&#x6570;&#x636E;-insert-" class="anchor-navigation-ex-anchor" href="#65132-&#x6DFB;&#x52A0;&#x6570;&#x636E;-insert-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.3.2. &#x6DFB;&#x52A0;&#x6570;&#x636E; (insert) </h3>
<p>&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x63D0;&#x4F9B; <code>add</code>,<code>insert</code>,<code>insertAll</code> &#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x3002;</p>
<h4 id="insert"><a name="insert" class="anchor-navigation-ex-anchor" href="#insert"><i class="fa fa-link" aria-hidden="true"></i></a>insert()&#x65B9;&#x6CD5;&#xFF1A; &#x63D2;&#x5165;&#x5355;&#x6761;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insert</span><span class="hljs-params">(array $data)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>$data</code>[&#x5FC5;&#x987B;] : &#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;(&#x952E;&#x503C;&#x5BF9;)</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x63D2;&#x5165;&#x6210;&#x529F;&#x7684;id(&#x4E3B;&#x952E;&#x503C;)&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x8FD4;&#x56DE;<code>false</code></li>
<li>tips: &#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</li>
<li>tips: &#x4E4B;&#x524D;set&#x7684;&#x6570;&#x636E;&#x5BF9;insert&#x65E0;&#x5F71;&#x54CD;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$uid=$orm-&gt;insert([<span class="hljs-string">&apos;name&apos;</span>=&gt;<span class="hljs-string">&apos;future&apos;</span>,<span class="hljs-string">&apos;org&apos;</span>=&gt;<span class="hljs-string">&apos;nku&apos;</span>]);<span class="hljs-comment">//&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;</span>
<span class="hljs-comment">/*&#x5BF9;&#x4E8E;&#x65E0;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;id&#xFF0C;&#x53EF;&#x5982;&#x4E0B;===&#x5224;&#x65AD;&#x63D2;&#x5165;&#x7ED3;&#x679C;*/</span>
<span class="hljs-keyword">if</span>($orm-&gt;insert([<span class="hljs-string">&apos;uid&apos;</span>=&gt;<span class="hljs-number">1</span>,<span class="hljs-string">&apos;pid&apos;</span>=&gt;<span class="hljs-number">2</span>])===<span class="hljs-keyword">false</span>){
    <span class="hljs-comment">// &#x63D2;&#x5165;&#x5931;&#x8D25;</span>
}<span class="hljs-keyword">else</span>{
    <span class="hljs-comment">//&#x63D2;&#x5165;&#x6210;&#x529F;</span>
}
</code></pre>
<h4 id="insertAll"><a name="insertAll" class="anchor-navigation-ex-anchor" href="#insertAll"><i class="fa fa-link" aria-hidden="true"></i></a>insertAll()&#x65B9;&#x6CD5;: &#x6279;&#x91CF;&#x63D2;&#x5165;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertAll</span><span class="hljs-params">(array $data)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>$data</code>[&#x5FC5;&#x987B;] : &#x8981;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x63D2;&#x5165;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</li>
<li>&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$uid=$orm-&gt;insert([<span class="hljs-string">&apos;name&apos;</span>=&gt;<span class="hljs-string">&apos;future&apos;</span>,<span class="hljs-string">&apos;org&apos;</span>=&gt;<span class="hljs-string">&apos;nku&apos;</span>]);<span class="hljs-comment">//&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;</span>
</code></pre>
<h4 id="add"><a name="add" class="anchor-navigation-ex-anchor" href="#add"><i class="fa fa-link" aria-hidden="true"></i></a>add()&#x65B9;&#x6CD5;: &#x63D2;&#x5165;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x7684;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">()</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x65E0;&#x53C2;&#x6570;</li>
<li>&#x8FD4;&#x56DE; <code>Orm</code>&#x5BF9;&#x8C61;&#x6216;NULL&#xFF1A; &#x64CD;&#x4F5C;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x81EA;&#x8EAB;&#xFF0C;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5176;&#x4ED6;&#x64CD;&#x4F5C; </li>
<li>&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</li>
<li>tips&#xFF1A; &#x4E0E; insert&#x7684;&#x533A;&#x522B;&#x662F;&#x4F1A;&#x4F7F;&#x7528;&#x4E4B;&#x524D;set&#x7684;&#x6570;&#x636E;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$uid=$orm
      -&gt;set(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;future&apos;</span>)
      -&gt;set(<span class="hljs-string">&apos;org&apos;</span>,<span class="hljs-string">&apos;nku&apos;</span>)
      -&gt;add();<span class="hljs-comment">//&#x63D2;&#x5165;&#x4E4B;&#x524D;set&#x7684;&#x6570;&#x636E;</span>
</code></pre>
<h3 id="65133-&#x8DDF;&#x65B0;&#x6570;&#x636E;-update-"><a name="65133-&#x8DDF;&#x65B0;&#x6570;&#x636E;-update-" class="anchor-navigation-ex-anchor" href="#65133-&#x8DDF;&#x65B0;&#x6570;&#x636E;-update-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.3.3. &#x8DDF;&#x65B0;&#x6570;&#x636E; (update) </h3>
<p>&#x66F4;&#x65B0;&#x6570;&#x636E;&#x63D0;&#x4F9B; <code>update</code>&#xFF0C;<code>save</code>&#x4E24;&#x79CD;&#x65B9;&#x6CD5;</p>
<h4 id="update"><a name="update" class="anchor-navigation-ex-anchor" href="#update"><i class="fa fa-link" aria-hidden="true"></i></a>update()&#x65B9;&#x6CD5;&#xFF1A; &#x66F4;&#x65B0;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span><span class="hljs-params">(array $data)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>$data</code>[&#x5FC5;&#x987B;] : &#x8981;&#x8DDF;&#x65B0;&#x7684;&#x6570;&#x636E;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x8DDF;&#x65B0;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</li>
<li>&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</li>
<li>tips:<ul>
<li>&#x4E4B;&#x524D;set&#x7684;&#x6570;&#x636E;&#x5BF9;update<strong>&#x65E0;&#x5F71;&#x54CD;</strong>,&#x5982;&#x679C;&#x8981;&#x4FDD;&#x7559;&#x4F7F;&#x7528; (save)[#save]</li>
<li>&#x53EF;&#x4EE5;&#x8DDF;&#x65B0;&#x591A;&#x6761; <code>limit</code>&#x9650;&#x5236;&#x6700;&#x5927;&#x6761;&#x6570;</li>
</ul>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x8DDF;&#x65B0;&#x5168;&#x90E8;&#x662F;&#x65F6;&#x95F4;*/</span>
$orm-&gt;update([<span class="hljs-string">&apos;time&apos;</span>=&gt;date(<span class="hljs-string">&apos;Y-m-d h:i:s&apos;</span>)]);
<span class="hljs-comment">/*&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;*/</span>
$data=[<span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-number">2</span>,<span class="hljs-string">&apos;name&apos;</span>=&gt;<span class="hljs-string">&apos;changed name&apos;</span>,<span class="hljs-string">&apos;password&apos;</span>=&gt;<span class="hljs-string">&apos;secret&apos;</span>];
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)
    -&gt;field(<span class="hljs-string">&apos;name&apos;</span>)
    -&gt;update($data);<span class="hljs-comment">//&#x53EA;&#x6709;name&#x5B57;&#x6BB5;&#x88AB;&#x66F4;&#x65B0;&#xFF0C;&#x5176;&#x4ED6;&#x88AB;&#x8FC7;&#x6EE4;</span>
</code></pre>
<h4 id="save"><a name="save" class="anchor-navigation-ex-anchor" href="#save"><i class="fa fa-link" aria-hidden="true"></i></a>save()&#x65B9;&#x6CD5;&#xFF1A; &#x4FDD;&#x5B58;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span><span class="hljs-params">([string $id])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; $id (&#x53EF;&#x9009;): &#x4FDD;&#x5B58;&#x7684;&#x4E3B;&#x952E;&#x503C;</li>
<li>&#x8FD4;&#x56DE; <code>Orm</code>&#x5BF9;&#x8C61;&#x6216;&#x8005;<code>NULL</code>&#xFF1A; &#x64CD;&#x4F5C;&#x6210;&#x529F;&#x8FD4;&#x56DE;&#x81EA;&#x8EAB;&#xFF0C;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;</li>
<li>&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</li>
<li>tips&#xFF1A; &#x4E0E; insert&#x7684;&#x533A;&#x522B;&#x662F;&#x4F1A;&#x4F7F;&#x7528;&#x4E4B;&#x524D;set&#x7684;&#x6570;&#x636E;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;*/</span>
$data=[<span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-number">2</span>,<span class="hljs-string">&apos;name&apos;</span>=&gt;<span class="hljs-string">&apos;changed name&apos;</span>];
$orm-&gt;field(<span class="hljs-string">&apos;name&apos;</span>)<span class="hljs-comment">//&#x53EA;&#x6709;name&#x5B57;&#x6BB5;&#x88AB;&#x66F4;&#x65B0;,&#x5176;&#x4ED6;&#x88AB;&#x8FC7;&#x6EE4;</span>
    -&gt;set($data)
    -&gt;save(<span class="hljs-number">1</span>);<span class="hljs-comment">//&#x8DDF;&#x65B0;&#x4E3B;&#x952E;&#x4E3A;1&#x7684;name</span>
</code></pre>
<h4 id="put"><a name="put" class="anchor-navigation-ex-anchor" href="#put"><i class="fa fa-link" aria-hidden="true"></i></a>put()&#x65B9;&#x6CD5;: &#x5FEB;&#x901F;&#x5199;&#x5165; </h4>
<p>PUT &#x5FEB;&#x901F;&#x4FEE;&#x6539;&#x5355;&#x4E2A;&#x5B57;&#x6BB5;,&#x4F1A;&#x7ACB;&#x5373;&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;</p>
<blockquote>
<pre><code class="lang-php"> int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">put</span><span class="hljs-params">(string $key,mixed $value)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; string <code>$key</code>: &#x5B57;&#x6BB5;&#x540D;&#x79F0;</li>
<li>&#x53C2;&#x6570; mixed <code>$value</code>: &#x5BF9;&#x5E94;&#x7684;&#x503C;</li>
<li>&#x8FD4;&#x56DE; <code>int</code>&#xFF1A;&#x5F71;&#x54CD;&#x7684;&#x6761;&#x6570;</li>
<li>&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>field()</code>&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x548C;&#x8BBE;&#x7F6E;&#x522B;&#x540D;</li>
<li>tips&#xFF1A; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x628A;id&#x4E3A;1&#x7684;&#x72B6;&#x6001;&#x4FEE;&#x6539;&#x4E3A;1*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;put(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>);
</code></pre>
<h3 id="65134-delete&#x65B9;&#x6CD5;&#xFF1A;-&#x5220;&#x9664;&#x6570;&#x636E;-"><a name="65134-delete&#x65B9;&#x6CD5;&#xFF1A;-&#x5220;&#x9664;&#x6570;&#x636E;-" class="anchor-navigation-ex-anchor" href="#65134-delete&#x65B9;&#x6CD5;&#xFF1A;-&#x5220;&#x9664;&#x6570;&#x636E;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.3.4. delete()&#x65B9;&#x6CD5;&#xFF1A; &#x5220;&#x9664;&#x6570;&#x636E; </h3>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delete</span><span class="hljs-params">([string $id])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; $id (&#x53EF;&#x9009;): &#x5220;&#x9664;&#x7684;&#x4E3B;&#x952E;&#x503C;</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x5220;&#x9664;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</li>
<li>tips: &#x53EF;&#x4EE5;&#x8DDF;&#x65B0;&#x591A;&#x6761; <code>limit</code>&#x8FDB;&#x884C;&#x9650;&#x5236;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$orm-&gt;delete(<span class="hljs-number">1</span>);<span class="hljs-comment">//&#x5220;&#x9664;id&#x4E3A;1&#x7684;</span>
<span class="hljs-comment">//where&#x9650;&#x5236;</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;delete();
</code></pre>
<h2 id="6514-&#x6761;&#x4EF6;&#x9650;&#x5236;-condition-"><a name="6514-&#x6761;&#x4EF6;&#x9650;&#x5236;-condition-" class="anchor-navigation-ex-anchor" href="#6514-&#x6761;&#x4EF6;&#x9650;&#x5236;-condition-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4. &#x6761;&#x4EF6;&#x9650;&#x5236; (condition) </h2>
<h3 id="65141-&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;"><a name="65141-&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;" class="anchor-navigation-ex-anchor" href="#65141-&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.1. &#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;where&#xFF09;</h3>
<p>&#x652F;&#x6301;where&#x64CD;&#x4F5C;&#x5982;&#x4E0B;&#x8868;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x7C7B;&#x578B;</th>
<th>&#x8868;&#x8FBE;&#x5F0F;&#x64CD;&#x4F5C;($op)</th>
<th style="text-align:center">&#x503C;</th>
<th>&#x4F8B;&#x5B50;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x503C;&#x6BD4;&#x8F83;</td>
<td><code>=</code>,<code>&lt;&gt;</code>,<code>!=</code>,<code>&gt;</code>,<code>&gt;=</code>,<code>&lt;</code>,<code>&lt;=</code></td>
<td style="text-align:center">&#x57FA;&#x672C;&#x7C7B;&#x578B;</td>
<td><code>where($key,&gt;,10)</code></td>
</tr>
<tr>
<td style="text-align:center">&#x7A7A;&#x503C;&#x6BD4;&#x8F83;</td>
<td><code>=</code>,<code>&lt;&gt;</code>,<code>IS</code></td>
<td style="text-align:center"><code>NULL</code></td>
<td><code>where($key,&apos;&lt;&gt;&apos;,null)</code></td>
</tr>
<tr>
<td style="text-align:center">LIKE&#x6BD4;&#x8F83;</td>
<td><code>[NOT ]LIKE</code>, <code>[NOT ]LIKE BINARY</code></td>
<td style="text-align:center"><code>string</code></td>
<td><code>where($key,&apos;LIKE&apos;,&apos;head%&apos;)</code></td>
</tr>
<tr>
<td style="text-align:center">IN &#x6BD4;&#x8F83;</td>
<td><code>IN</code>&#xFF0C;<code>NOT IN</code></td>
<td style="text-align:center"><code>array</code></td>
<td><code>where($key,&apos;in&apos;,[1,3,5])</code></td>
</tr>
<tr>
<td style="text-align:center">BETWEEN</td>
<td><code>BETWEEN</code>, <code>NOT BETWEEN</code></td>
<td style="text-align:center"><code>array</code>&#x6216;&#x8DDF;&#x4E24;&#x53C2;&#x6570;</td>
<td><code>where($key,&apos;BETWEEN&apos;,1,10)</code> , <code>where($key,&apos;BETWEEN&apos;,[1,10])</code></td>
</tr>
</tbody>
</table>
<h4 id="where"><a name="where" class="anchor-navigation-ex-anchor" href="#where"><i class="fa fa-link" aria-hidden="true"></i></a>where()&#x65B9;&#x6CD5;&#xFF1A; &#x6DFB;&#x52A0;&#x9009;&#x62E9;&#x6761;&#x4EF6; </h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">where</span><span class="hljs-params">(mixed $condition [...])</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;&#x652F;&#x6301;&#x591A;&#x79CD;&#x65B9;&#x5F0F;: </p>
<ul>
<li><p>&#x4E09;&#x5143;&#x6BD4;&#x8F83;: (&#x53C2;&#x89C1;wehre&#x8868;) </p>
<blockquote>
<p><code>where($field,$operator,$value)</code></p>
</blockquote>
<ol>
<li><code>string</code> &#x5B57;&#x6BB5;&#x540D;(<code>$field</code>): &#x5B57;&#x6BB5;&#x540D;&#x5982;<code>name</code>,<code>user.id</code>(&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x5B58;&#x5728;&#x540C;&#x540D;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x8868;&#x540D;)</li>
<li><code>string</code> &#x6BD4;&#x8F83;&#x7B26;(<code>$oprater</code>): &#x652F;&#x6301; <code>=</code>,<code>&lt;&gt;</code>,<code>!=</code>,<code>&gt;</code>,<code>&gt;=</code>,<code>&lt;</code>,<code>&lt;=</code>,<code>LIKE</code>,<code>NOT LIKE</code>,&#x7B49;&#x8868;&#x4E2D;&#x6240;&#x6709;&#x64CD;&#x4F5C;</li>
<li><code>mixed</code> &#x6BD4;&#x8F83;&#x7684;&#x503C;(<code>$value</code>) : &#x6570;&#x503C;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;NULL&#x7B49;,<code>in</code>&#x548C;<code>between</code>&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x662F;&#x6570;&#x7EC4;</li>
</ol>
</li>
<li><p>&#x4E8C;&#x5143;&#x76F8;&#x5F53;&#x5173;&#x7CFB;&#xFF1A;(&#x4E09;&#x5143;&#x64CD;&#x4F5C;&#x7701;&#x7565;<code>&quot;=&quot;</code>)</p>
<blockquote>
<p><code>where($field,$value)</code></p>
</blockquote>
<ol>
<li><code>string</code> &#x5B57;&#x6BB5;&#x540D;(<code>$field</code>): &#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x5B58;&#x5728;&#x540C;&#x540D;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x8868;&#x540D;</li>
<li><code>scalar</code>(&#x57FA;&#x672C;&#x7C7B;&#x578B;) &#x6BD4;&#x8F83;&#x7684;&#x503C;(<code>$value</code>) : &#x5B57;&#x6BB5;&#x7684;&#x503C;,<code>NULL</code>&#x4F1A;&#x88AB;&#x7279;&#x6B8A;&#x5904;&#x7406;&#x53D8;&#x6210;IS NULL&#x8BED;&#x53E5;</li>
</ol>
</li>
<li><p>&#x4E00;&#x5143;&#x6570;&#x7EC4;&#xFF1A;(&#x6570;&#x7EC4;&#x6279;&#x91CF;&#x6761;&#x4EF6;)</p>
<blockquote>
<p><code>where($array)</code></p>
</blockquote>
<ol>
<li>&#x5173;&#x8054;&#x6570;&#x7EC4;<code>array</code>(<code>$field=&gt;$value</code>): &#x6BCF;&#x4E00;&#x7EC4;&#x952E;&#x503C;&#x5BF9;&#x76F8;&#x5F53;&#x4E8E;&#x4E8C;&#x5143;&#x76F8;&#x7B49;&#x6761;&#x4EF6;</li>
<li>&#x4E8C;&#x7EF4;&#x7D22;&#x5F15;&#x6570;&#x7EC4;<code>array</code>(<code>[$condition1,$condition2,...]</code>):&#x6BCF;&#x7EC4;&#x6761;&#x4EF6;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x7EC4;where&#x6761;&#x4EF6;(&#x4E0D;&#x9012;&#x5F52;)</li>
</ol>
</li>
<li><p>&#x56DB;&#x5143;&#x533A;&#x95F4;&#x6BD4;&#x8F83;&#xFF1A;(BETWEEN&#x6761;&#x4EF6;)</p>
<blockquote>
<p><code>where($field,$BETWEEN,$min,$max)</code></p>
</blockquote>
<ol>
<li><code>string</code> &#x5B57;&#x6BB5;&#x540D;(<code>$field</code>): &#x5B57;&#x6BB5;&#x540D;&#xFF0C;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x5B58;&#x5728;&#x540C;&#x540D;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x8868;&#x540D;</li>
<li><code>string</code>(&#x57FA;&#x672C;&#x7C7B;&#x578B;) &#x6761;&#x4EF6; : <code>BETWEEN</code>&#x6216;&#x8005;<code>NOT BETWEEN</code></li>
<li><code>scalar</code>(&#x57FA;&#x672C;&#x7C7B;&#x578B;) &#x6700;&#x5C0F;&#x503C;(<code>$min</code>) : &#x4E0B;&#x754C;(&#x6216;&#x8005;&#x4E0A;&#x754C;)</li>
<li><code>scalar</code>(&#x57FA;&#x672C;&#x7C7B;&#x578B;) &#x6700;&#x5927;&#x503C;(<code>$max</code>) : &#x4E0A;&#x754C;(&#x6216;&#x8005;&#x4E0B;&#x754C;)</li>
</ol>
</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE; <code>Object</code>(<code>Orm</code>&#x5BF9;&#x8C61;) &#xFF1A; &#x8FD4;&#x56DE;$this&#x7EE7;&#x7EED;&#x64CD;&#x4F5C; </p>
</li>
<li>tips: <ul>
<li><code>NULL</code>&#x503C;(<code>NULL</code>&#x7C7B;&#x578B;,&#x4E0D;&#x662F;string<code>&quot;NULL&quot;</code>,&#x540E;&#x8005;&#x4F1A;&#x4F5C;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;)&#x4F1A;&#x88AB;&#x7279;&#x6B8A;&#x5904;&#x7406;</li>
<li>&#x5B57;&#x6BB5;&#x503C;&#x4E0D;&#x80FD;&#x662F;&#x8BA1;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;,&#x8868;&#x8FBE;&#x5F0F;&#x8BA1;&#x7B97;&#x7528;<a href="#having">having</a></li>
<li>&#x503C;&#x4E0D;&#x80FD;&#x662F;&#x5B57;&#x6BB5;(&#x4F1A;&#x88AB;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;),&#x591A;&#x6807;&#x8054;&#x5408;&#x53EF;&#x4EE5;&#x7528;<a href="#join">join</a></li>
<li>&#x5173;&#x95ED;<code>safe</code>&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x5728;where&#x4E2D;&#x4F7F;&#x7528;&#x539F;&#x751F;sql&#x6761;&#x4EF6;<strong>&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;</strong>&#xFF08;&#x4E0D;&#x5B89;&#x5168;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x7F16;&#x8BD1;&#x7684;sql&#x51FA;&#x9519;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;sql&#x7F13;&#x5B58;&#xFF09;</li>
</ul>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*where &#x57FA;&#x672C;&#x64CD;&#x4F5C;*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//&#x5927;&#x4E8E;0&#xFF1A; WHERE `status`&gt;0</span>
<span class="hljs-comment">//null&#x7279;&#x6B8A;&#x5904;&#x7406;</span>
$orm-&gt;where(<span class="hljs-string">&apos;a.status&apos;</span>,<span class="hljs-string">&apos;!=&apos;</span>,<span class="hljs-keyword">null</span>);<span class="hljs-comment">//&#x975E;&#x7A7A;: WHERE `a`.`status` IS NOT NULL</span>

<span class="hljs-comment">/*where&#x76F8;&#x7B49;&#x7B80;&#x5316;*/</span>
<span class="hljs-comment">//&#x7F3A;&#x7701;&#x7B49;&#x4E8E;</span>
$orm-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//status&#x4E3A;0:W HERE `status`=0</span>
$orm-&gt;where(<span class="hljs-string">&apos;data&apos;</span>,<span class="hljs-keyword">null</span>);<span class="hljs-comment">//&#x67E5;&#x627E;NULL&#x503C;: WHERE `data` IS NULL</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>);<span class="hljs-comment">//&#x5E76;&#x5217;&#xFF1A; WHERE `id`=1 AND `status`=1</span>

<span class="hljs-comment">/*&#x6570;&#x7EC4;&#x53C2;&#x6570;&#x578B;*/</span>
<span class="hljs-comment">//in array</span>
$orm-&gt;where(<span class="hljs-string">&apos;type&apos;</span>,<span class="hljs-string">&apos;IN&apos;</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">7</span>]);<span class="hljs-comment">// &#x4E3A;1&#xFF0C;3&#x6216;&#x8005;7 : WHERE `type` IN (1,3,7);</span>
<span class="hljs-comment">// between</span>
<span class="hljs-comment">//&#x5728;&#x4E0D;&#x8303;&#x56F4;&#x4E4B;&#x5185;,status&lt; 1&#x6216;&#x8005;status&gt;3: WHERE `status` NOT BETWEEN 1 AND 3</span>
$orm-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-string">&apos;NOT BETWEEN&apos;</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">3</span>]);

<span class="hljs-comment">/*&#x56DB;&#x5143;between*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-string">&apos;NOT BETWEEN&apos;</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>);<span class="hljs-comment">//&#x540C;&#x4E0A;</span>

<span class="hljs-comment">/*&#x5173;&#x8054;&#x6570;&#x7EC4;*/</span>
$orm-&gt;where([<span class="hljs-string">&apos;id&apos;</span>=&gt;<span class="hljs-number">1</span>,<span class="hljs-string">&apos;status&apos;</span>=&gt;<span class="hljs-number">1</span>]);<span class="hljs-comment">//WHERE `id`=1 AND `status`=1</span>
<span class="hljs-comment">/*&#x4E8C;&#x7EF4;&#x7D22;&#x5F15;&#x6570;&#x7EC4;*/</span>
$condition=[
    [<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">0</span>],
    [<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;LIKE&apos;</span>,<span class="hljs-string">&apos;%future%&apos;</span>],
];
$orm-&gt;where($condition);<span class="hljs-comment">//WHERE `status`&gt;0 AND `name` LIKE &quot;%future%&quot;</span>
</code></pre>
<h4 id="whereField"><a name="whereField" class="anchor-navigation-ex-anchor" href="#whereField"><i class="fa fa-link" aria-hidden="true"></i></a>whereField()&#x65B9;&#x6CD5;&#xFF1A; &#x5B57;&#x6BB5;&#x6BD4;&#x8F83;&#x6761;&#x4EF6; </h4>
<p>&#x7531;&#x4E8E;<code>where</code>&#x9ED8;&#x8BA4;&#x4F1A;&#x5C06;&#x6BD4;&#x8F83;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x7ED1;&#x5B9A;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x662F;&#x5B57;&#x6BB5;&#x4F1A;&#x6309;&#x7167;&#x5B57;&#x7B26;&#x5904;&#x7406;&#xFF0C;<code>whereField</code>&#x5C31;&#x662F;&#x7528;&#x6765;&#x6BD4;&#x8F83;&#x5B57;&#x6BB5;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x503C;&#x4F1A;&#x6309;&#x7167;&#x5B57;&#x6BB5;&#x5904;&#x7406;&#x3002;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">whereField</span><span class="hljs-params">(mixed $condition [...])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x4E0E;<a href="#where">where</a>&#x7528;&#x6CD5;&#x4E00;&#x81F4;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*whereField &#x6BD4;&#x8F83;*/</span>
$orm-&gt;whereField(<span class="hljs-string">&apos;up&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-string">&apos;dwon&apos;</span>);<span class="hljs-comment">//up&#x5B57;&#x6BB5;&#x503C;&gt;down&#x7684;&#x503C;</span>
</code></pre>
<h4 id="orWhere"><a name="orWhere" class="anchor-navigation-ex-anchor" href="#orWhere"><i class="fa fa-link" aria-hidden="true"></i></a>orWhere()&#x65B9;&#x6CD5;&#xFF1A; OR&#x6761;&#x4EF6;  </h4>
<p>&#x540C;where &#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x53D8;&#x6210;OR</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">orWhere</span><span class="hljs-params">(mixed $condition [...])</span>
</span></code></pre>
</blockquote>
<p>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</p>
<pre><code class="lang-php"><span class="hljs-comment">/*where&#x548C;orwhere&#x9650;&#x5236;*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-string">&apos;&lt;&apos;</span>,<span class="hljs-number">10</span>)
    -&gt;orWhere(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">1000</span>)
    -&gt;select(<span class="hljs-string">&apos;name&apos;</span>);<span class="hljs-comment">//&#x67E5;&#x8BE2;id&lt; 10&#x6216;&#x8005;id&gt;1000&#x7684;&#x7528;&#x6237;&#x540D;</span>
</code></pre>
<h4 id="orWhereField"><a name="orWhereField" class="anchor-navigation-ex-anchor" href="#orWhereField"><i class="fa fa-link" aria-hidden="true"></i></a>orWhereField()&#x65B9;&#x6CD5;&#xFF1A; &#x5B57;&#x6BB5;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;OR  </h4>
<p>&#x540C;where &#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4E00;&#x6837;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">orWhereField</span><span class="hljs-params">(mixed $condition [...])</span>
</span></code></pre>
</blockquote>
<p>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</p>
<pre><code class="lang-php"><span class="hljs-comment">/*where&#x548C;orwhere&#x9650;&#x5236;*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-string">&apos;&lt;&apos;</span>,<span class="hljs-number">100</span>)
    -&gt;orWhereField(<span class="hljs-string">&apos;regtime&apos;</span>,<span class="hljs-string">&apos;logtime&apos;</span>)
    -&gt;select(<span class="hljs-string">&apos;idname&apos;</span>);
</code></pre>
<h3 id="65142-&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists--"><a name="65142-&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists--" class="anchor-navigation-ex-anchor" href="#65142-&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists--"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.2. &#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;exists  </h3>
<h4 id="exists"><a name="exists" class="anchor-navigation-ex-anchor" href="#exists"><i class="fa fa-link" aria-hidden="true"></i></a>exists()&#x65B9;&#x6CD5;  </h4>
<p>&#x5224;&#x65AD;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;&#x9700;&#x8981;&#x4F7F;&#x7528;exist</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exists</span><span class="hljs-params">(Orm $query[, boolean $not=false,[ string $type=<span class="hljs-string">&apos;AND&apos;</span>]])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>Orm</code>)<code>$query</code>: &#x5305;&#x542B;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7684;<code>Orm</code>&#x5BF9;&#x8C61;</li>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$not</code>: &#x4E3A;<code>true</code>&#x65F6; &#x67E5;&#x8BE2; not exists,&#x9ED8;&#x8BA4;&#x662F; false</li>
<li>&#x53C2;&#x6570; (<code>string</code>) <code>$type</code>: &#x8FDE;&#x63A5;&#x6761;&#x4EF6; <code>AND</code>&#x6216;&#x8005;<code>OR</code></li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x5B50;&#x67E5;&#x8BE2;*/</span>
$subQuery=<span class="hljs-keyword">new</span> $orm(<span class="hljs-string">&apos;user&apos;</span>);
$subQuery-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,$id);
$orm-&gt;exists($subQuery)
    -&gt;where(<span class="hljs-string">&apos;id&apos;</span>,$id)
    -&gt;select(<span class="hljs-string">&apos;id,content&apos;</span>);
<span class="hljs-comment">/*&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;*/</span>
InfoModel::exists(
        Db::table(<span class="hljs-string">&apos;user&apos;</span>)-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,$id)
    )-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,$id)
    -&gt;select(<span class="hljs-string">&apos;id,content&apos;</span>);
</code></pre>
<h4 id="orExists"><a name="orExists" class="anchor-navigation-ex-anchor" href="#orExists"><i class="fa fa-link" aria-hidden="true"></i></a>orExists()&#x65B9;&#x6CD5;  </h4>
<p>&#x5224;&#x65AD;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5B58;&#x5728;&#x9700;&#x8981;&#x4F7F;&#x7528;exist&#xFF0C;OR&#x6761;&#x4EF6;&#x94FE;&#x63A5;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">orExists</span><span class="hljs-params">(Orm $query[, boolean $not=false])</span>
</span></code></pre>
</blockquote>
<p>&#x7528;&#x6CD5;&#x540C; <a href="#exists">exists</a></p>
<h3 id="65143-&#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD;-"><a name="65143-&#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD;-" class="anchor-navigation-ex-anchor" href="#65143-&#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.3. &#x5206;&#x7EC4;&#x548C;&#x53BB;&#x91CD; </h3>
<h4 id="distinct&#x65B9;&#x6CD5;-&#x53BB;&#x9664;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;"><a name="distinct&#x65B9;&#x6CD5;-&#x53BB;&#x9664;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;" class="anchor-navigation-ex-anchor" href="#distinct&#x65B9;&#x6CD5;-&#x53BB;&#x9664;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a>distinct()&#x65B9;&#x6CD5;: &#x53BB;&#x9664;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;</h4>
<p>&#x6570;&#x636E;&#x5E93;&#x5728;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;,distinct &#x53EF;&#x4EE5;&#x53BB;&#x9664;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E2D;&#x91CD;&#x590D;&#x7684;&#x7ED3;&#x679C;(&#x540C;&#x6837;&#x7684;&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;)</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">distinct</span><span class="hljs-params">([boolean $is_distinct = true])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$is_distinct</code> : &#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x53BB;&#x91CD;,&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x662F;<code>true</code></li>
<li>&#x8FD4;&#x56DE; <code>Orm</code> &#x5BF9;&#x8C61;: &#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7684;&#x72B6;&#x6001;,&#x6BCF;&#x79CD;&#x72B6;&#x6001;&#x663E;&#x793A;&#x4E00;&#x4E2A;*/</span>
$orm-&gt;distinct()-&gt;select(<span class="hljs-string">&apos;status&apos;</span>);
</code></pre>
<h4 id="group"><a name="group" class="anchor-navigation-ex-anchor" href="#group"><i class="fa fa-link" aria-hidden="true"></i></a>group()&#x65B9;&#x6CD5; : &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5206;&#x7EC4;</h4>
<p>GROUP &#x53EF;&#x4EE5;&#x6309;&#x6761;&#x4EF6;&#x6216;&#x8005;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C; &#x53EF;&#x4EE5;&#x8FDE;&#x7EED;&#x4F7F;&#x7528;&#x591A;&#x4E2A;GROUP&#x6761;&#x4EF6;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">group</span><span class="hljs-params">(string $field [, string $operator, mixed $value])</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;: &#x4E0E;<a href="#where">where</a>&#x76F8;&#x4F3C;&#x4F46;&#x662F;&#x4E0D;&#x63A5;&#x6536;&#x6570;&#x7EC4;&#x53C2;&#x6570;.</p>
<ul>
<li><p>&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>(<code>$field</code>)[&#x5FC5;&#x987B;]: &#x5206;&#x7EC4;&#x7684;&#x5B57;&#x6BB5;</li>
</ol>
</li>
<li><p>&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>(<code>$field</code>)[&#x5FC5;&#x987B;]: &#x5B57;&#x6BB5;</li>
<li><code>string</code>(<code>$value</code>):  &#x76F8;&#x7B49;&#x6761;&#x4EF6;</li>
</ol>
</li>
<li><p>&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>(<code>$field</code>)[&#x5FC5;&#x987B;]: &#x5206;&#x7EC4;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>string</code>(<code>$operator</code>): &#x6BD4;&#x8F83;&#x7B26; &#x53C2;&#x7167;where</li>
<li><code>mixed</code>(<code>$value</code>): &#x6BD4;&#x8F83;&#x503C;</li>
</ol>
</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE; <code>orm</code>&#xFF1A; &#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</p>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7EDF;&#x8BA1;&#x6BCF;&#x79CD;&#x72B6;&#x6001;&#x6709;&#x591A;&#x5C11;*/</span>
$orm-&gt;group(<span class="hljs-string">&apos;status&apos;</span>)
    -&gt;select(<span class="hljs-string">&apos;status,count(*) as count&apos;</span>);
</code></pre>
<h3 id="65144-&#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09;-"><a name="65144-&#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09;-" class="anchor-navigation-ex-anchor" href="#65144-&#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.4. &#x8BA1;&#x7B97;&#x6761;&#x4EF6;&#xFF08;having&#xFF09; </h3>
<p>&#x5F53;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x805A;&#x5408;&#x51FD;&#x6570;&#x65F6;,&#x9700;&#x8981;having&#x51FD;&#x6570;&#x3002;WHERE &#x5173;&#x952E;&#x5B57;&#x65E0;&#x6CD5;&#x4E0E;&#x805A;&#x548C;&#x51FD;&#x6570;&#x4E00;&#x8D77;&#x4F7F;&#x7528;(sql &#x4E2D;where &#x5148;&#x6267;&#x884C;)&#x3002;</p>
<h4 id="having"><a name="having" class="anchor-navigation-ex-anchor" href="#having"><i class="fa fa-link" aria-hidden="true"></i></a>having()&#x65B9;&#x6CD5;&#xFF1A; &#x6DFB;&#x52A0;&#x9009;&#x62E9;&#x6761;&#x4EF6; </h4>
<p>HAVING AND&#x94FE;&#x63A5;&#x7684;&#x6761;&#x4EF6;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">having</span><span class="hljs-params">(string $field,string $operator,string $value)</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;: &#x4E0E;<a href="#where">where</a>&#x76F8;&#x4F3C;&#x4F46;&#x662F;&#x4E0D;&#x63A5;&#x6536;&#x6570;&#x7EC4;&#x53C2;&#x6570;.</p>
<ul>
<li><p>&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>(<code>$field</code>)[&#x5FC5;&#x987B;]: &#x5B57;&#x6BB5;</li>
<li><code>string</code>(<code>$value</code>):  &#x76F8;&#x7B49;&#x6761;&#x4EF6;</li>
</ol>
</li>
<li><p>&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>(<code>$field</code>)[&#x5FC5;&#x987B;]: &#x5206;&#x7EC4;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>string</code>(<code>$operator</code>): &#x6BD4;&#x8F83;&#x7B26; &#x53C2;&#x7167;where</li>
<li><code>mixed</code>(<code>$value</code>): &#x6BD4;&#x8F83;&#x503C;</li>
</ol>
</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE; <code>orm</code>&#xFF1A; &#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</p>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7EDF;&#x8BA1;&#x6BCF;&#x79CD;&#x72B6;&#x6001;&#x51FA;&#x73B0;&#x6B21;&#x6570;&#x5927;&#x4E8E;100&#x7684;*/</span>
$orm-&gt;group(<span class="hljs-string">&apos;status&apos;</span>)
    -&gt;having(<span class="hljs-string">&apos;count&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">100</span>)<span class="hljs-comment">//where &#x4F1A;&#x62A5;&#x9519;</span>
    -&gt;select(<span class="hljs-string">&apos;status,count(*) as count&apos;</span>);
</code></pre>
<h4 id="orHaving"><a name="orHaving" class="anchor-navigation-ex-anchor" href="#orHaving"><i class="fa fa-link" aria-hidden="true"></i></a>orHaving()&#x65B9;&#x6CD5;&#xFF1A; having&#x6761;&#x4EF6; or </h4>
<p>HAVING &#x6761;&#x4EF6; OR &#x5173;&#x7CFB;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; orWhere</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">orHaving</span><span class="hljs-params">(string $field,string $operator,string $value)</span>
</span></code></pre>
</blockquote>
<p>&#x7528;&#x6CD5;&#x540C; <a href="#having">having</a>&#x3002; </p>
<h3 id="65145-&#x5B57;&#x6BB5;-"><a name="65145-&#x5B57;&#x6BB5;-" class="anchor-navigation-ex-anchor" href="#65145-&#x5B57;&#x6BB5;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.5. &#x5B57;&#x6BB5; </h3>
<p>&#x4FEE;&#x6539;&#x6570;&#x636E;&#x6216;&#x8005;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x65F6;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x8FC7;&#x6EE4;,&#x6216;&#x8005;&#x5BF9;&#x5B57;&#x6BB5;&#x540D;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>field</code>&#x65B9;&#x6CD5;</p>
<h4 id="field&#x65B9;&#x6CD5;&#xFF1A;-&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;&#x548C;&#x522B;&#x540D;&#x8BBE;&#x7F6E;"><a name="field&#x65B9;&#x6CD5;&#xFF1A;-&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;&#x548C;&#x522B;&#x540D;&#x8BBE;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#field&#x65B9;&#x6CD5;&#xFF1A;-&#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;&#x548C;&#x522B;&#x540D;&#x8BBE;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>field()&#x65B9;&#x6CD5;&#xFF1A; &#x5B57;&#x6BB5;&#x8FC7;&#x6EE4;&#x548C;&#x522B;&#x540D;&#x8BBE;&#x7F6E;</h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">field</span><span class="hljs-params">(mixed $field [, string $alias])</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;&#x652F;&#x6301;&#x591A;&#x79CD;&#x65B9;&#x5F0F;: </p>
<ul>
<li><p>&#x4E24;&#x4E2A;&#x53C2;&#x6570;: (&#x5B57;&#x6BB5;&#x522B;&#x540D;&#x8BBE;&#x7F6E;) </p>
<blockquote>
<p><code>field($field,$alias)</code></p>
</blockquote>
<ol>
<li><code>string</code> &#x5B57;&#x6BB5;(<code>$field</code>): &#x5B57;&#x6BB5;&#x540D;&#x5982;<code>name</code>,<code>user.id</code>(&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x5B58;&#x5728;&#x540C;&#x540D;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x8868;&#x540D;)</li>
<li><code>string</code> &#x522B;&#x540D;(<code>$alias</code>): &#x522B;&#x540D;&#x5982;<code>uid</code></li>
</ol>
</li>
<li><p>&#x6570;&#x7EC4;&#x53C2;&#x6570;:</p>
<blockquote>
<p><code>field($array)</code> [$field=&gt;$alias]</p>
</blockquote>
<p> &#x5173;&#x8054;&#x6570;&#x7EC4;<code>array</code>(<code>$field=&gt;$value</code>): &#x6BCF;&#x4E00;&#x7EC4;&#x952E;&#x503C;&#x5BF9;&#x662F;&#x4E00;&#x7EC4;&#x5B57;&#x6BB5;&#x522B;&#x540D;&#x9690;&#x8EAB;</p>
</li>
<li><p>&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#xFF1A;(&#x6570;&#x7EC4;&#x6279;&#x91CF;&#x6761;&#x4EF6;)</p>
<blockquote>
<p><code>field($string)</code></p>
</blockquote>
<ul>
<li>&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x7528;<code>,</code>&#x9694;&#x5F00;</li>
<li>&#x522B;&#x540D;&#x7528;<code>AS</code>&#x94FE;&#x63A5; &#x5982; <code>&apos;user.id AS id&apos;</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>&#x8FD4;&#x56DE; <code>Object</code>(<code>Orm</code>&#x5BF9;&#x8C61;) &#xFF1A; &#x8FD4;&#x56DE;$this&#x7EE7;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>tips: <ul>
<li>&#x5B57;&#x6BB5;&#x503C;&#x662F;&#x805A;&#x5408;&#x8868;&#x8FBE;&#x5F0F;&#x65F6;&#x65F6; &#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x522B;&#x540D;</li>
<li>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;field,<a href="#update">&#x4FEE;&#x6539;</a>,<a href="#insert">&#x63D2;&#x5165;</a>&#x548C;<a href="#query">&#x67E5;&#x8BE2;</a>&#x64CD;&#x4F5C;&#x4F1A;&#x5BF9;&#x5176;&#x8FC7;&#x6EE4;</li>
</ul>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*field &#x4E8C;&#x5143;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x522B;&#x540D;*/</span>
$orm-&gt;field(<span class="hljs-string">&apos;user_id&apos;</span>,<span class="hljs-string">&apos;uid&apos;</span>)
    -&gt;field(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;user&apos;</span>)
    -&gt;select();

<span class="hljs-comment">/*array*/</span>
$orm-&gt;field([
        <span class="hljs-string">&apos;user_id&apos;</span>=&gt;<span class="hljs-string">&apos;uid&apos;</span>,
        <span class="hljs-string">&apos;name&apos;</span>=&gt;<span class="hljs-string">&apos;user&apos;</span>,
    ])-&gt;select();

<span class="hljs-comment">/*&#x5B57;&#x7B26;&#x4E32;*/</span>
$orm-&gt;field(<span class="hljs-string">&apos;user_id AS uid,name AS user&apos;</span>)
    -&gt;select();
<span class="hljs-comment">//select &#x5FEB;&#x6377;&#x65B9;&#x6CD5;</span>
$orm-&gt;select(<span class="hljs-string">&apos;user_id AS uid,name AS user&apos;</span>);

<span class="hljs-comment">/*update&#x8FC7;&#x6EE4;,&#x53EA;&#x6709;name&#x548C;info&#x4F1A;&#x88AB;&#x66F4;&#x65B0;*/</span>
$orm-&gt;field(<span class="hljs-string">&apos;name,info&apos;</span>)-&gt;update($data);
</code></pre>
<h3 id="65146-&#x6392;&#x5E8F;-"><a name="65146-&#x6392;&#x5E8F;-" class="anchor-navigation-ex-anchor" href="#65146-&#x6392;&#x5E8F;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.6. &#x6392;&#x5E8F; </h3>
<h4 id="order&#x65B9;&#x6CD5;&#xFF1A;-&#x8BBE;&#x7F6E;&#x4F4D;&#x7F6E;&#x548C;&#x504F;&#x79FB;"><a name="order&#x65B9;&#x6CD5;&#xFF1A;-&#x8BBE;&#x7F6E;&#x4F4D;&#x7F6E;&#x548C;&#x504F;&#x79FB;" class="anchor-navigation-ex-anchor" href="#order&#x65B9;&#x6CD5;&#xFF1A;-&#x8BBE;&#x7F6E;&#x4F4D;&#x7F6E;&#x548C;&#x504F;&#x79FB;"><i class="fa fa-link" aria-hidden="true"></i></a>order()&#x65B9;&#x6CD5;&#xFF1A; &#x8BBE;&#x7F6E;&#x4F4D;&#x7F6E;&#x548C;&#x504F;&#x79FB;</h4>
<p>&#x6DFB;&#x52A0;&#x5B57;&#x6BB5;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">order</span><span class="hljs-params">(string $fields [, boolean $desc = false])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x6700;&#x591A;&#x4E24;&#x4E2A;&#x53C2;&#x6570;: <ol>
<li><code>string</code>(<code>$field</code>) [&#x5FC5;&#x987B;] : &#x8981;&#x6392;&#x5E8F;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>bool</code>(<code>$desc</code>) [&#x9ED8;&#x8BA4;false]: &#x662F;&#x5426;&#x6309;&#x7167;&#x964D;&#x5E8F;&#x6392;&#x5217;(&#x9ED8;&#x8BA4;&#x5347;&#x5E8F;&#x6392;&#x5217;)</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE; <code>Object</code>(<code>Orm</code>&#x5BF9;&#x8C61;) &#xFF1A; &#x8FD4;&#x56DE;$this&#x7EE7;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>tips: &#x6392;&#x5E8F;&#x901A;&#x5E38;&#x548C;<a href="#limit">limit</a>&#x7ED3;&#x5408;&#x4F7F;&#x7528;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*order&#x6392;&#x5E8F;*/</span>
$orm-&gt;order(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-keyword">true</span>) <span class="hljs-comment">// &#x6309;&#x7167;name&#x964D;&#x5E8F;</span>
    -&gt;ordee(<span class="hljs-string">&apos;id&apos;</span>) <span class="hljs-comment">//&#x518D;&#x5B89;&#x88C5;id&#x5347;&#x5E8F;(&#x4ECE;&#x5C0F;&#x5230;&#x5927;)</span>
    -&gt;select(<span class="hljs-string">&apos;name,id&apos;</span>);
</code></pre>
<h3 id="65147-&#x5206;&#x9875;"><a name="65147-&#x5206;&#x9875;" class="anchor-navigation-ex-anchor" href="#65147-&#x5206;&#x9875;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.4.7. &#x5206;&#x9875;</h3>
<h4 id="limit"><a name="limit" class="anchor-navigation-ex-anchor" href="#limit"><i class="fa fa-link" aria-hidden="true"></i></a>limit()&#x65B9;&#x6CD5;&#xFF1A;&#x9650;&#x5236;&#x8BFB;&#x53D6;&#x6761;&#x6570;&#x548C;&#x504F;&#x79FB; </h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">limit</span><span class="hljs-params">( int $maxsize [, int $offset = <span class="hljs-number">0</span>])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x6700;&#x591A;&#x4E24;&#x4E2A;&#x53C2;&#x6570;: <ol>
<li><code>int</code>(<code>$maxsize</code>) [&#x5FC5;&#x987B;] : &#x6700;&#x5927;&#x6761;&#x6570;</li>
<li><code>int</code>(<code>$offset</code>) [&#x9ED8;&#x8BA4;0]: &#x504F;&#x79FB;&#x91CF;(&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;)</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE; <code>Object</code>(<code>Orm</code>&#x5BF9;&#x8C61;) &#xFF1A; &#x8FD4;&#x56DE;$this&#x7EE7;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*limit &#x9650;&#x5236;&#x8BFB;&#x53D6;&#x6761;&#x6570;*/</span>
$orm-&gt;limit(<span class="hljs-number">10</span>) <span class="hljs-comment">//&#x8BFB;&#x53D6;10&#x6761;&#x6570;&#x636E;</span>
    -&gt;select(<span class="hljs-string">&apos;name,id&apos;</span>);

<span class="hljs-comment">/*limit &#x8BBE;&#x7F6E;&#x504F;&#x79FB;&#x91CF;*/</span>
$orm-&gt;limit(<span class="hljs-number">10</span>,<span class="hljs-number">12</span>) <span class="hljs-comment">//&#x4ECE;12&#x6761;&#x5F00;&#x59CB;&#x8BFB;&#x53D6;10&#x6761;(&#x5230;22)</span>
    -&gt;select(<span class="hljs-string">&apos;name,id&apos;</span>);
</code></pre>
<h4 id="page"><a name="page" class="anchor-navigation-ex-anchor" href="#page"><i class="fa fa-link" aria-hidden="true"></i></a>page()&#x65B9;&#x6CD5;&#xFF1A; &#x7FFB;&#x9875; </h4>
<p>&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;limit &#x64CD;&#x4F5C;&#x901A;&#x5E38;&#x7528;&#x6765;&#x5FEB;&#x901F;&#x7FFB;&#x9875;,page&#x65B9;&#x6CD5;&#x662F;&#x7528;&#x6765;&#x7FFB;&#x9875;&#x7684;&#x5FEB;&#x901F;&#x64CD;&#x4F5C;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">page</span><span class="hljs-params">( int $number [, int $size = <span class="hljs-number">10</span>])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x6700;&#x591A;&#x4E24;&#x4E2A;&#x53C2;&#x6570;: <ol>
<li><code>int</code>(<code>$number</code>) [&#x5FC5;&#x987B;] : &#x9875;&#x7801;</li>
<li><code>int</code>(<code>$size</code>) [&#x9ED8;&#x8BA4;10]: &#x6BCF;&#x9875;&#x6761;&#x6570;</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE; <code>Object</code>(<code>Orm</code>&#x5BF9;&#x8C61;) &#xFF1A; &#x8FD4;&#x56DE;$this&#x7EE7;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*page &#x9650;&#x5236;&#x8BFB;&#x53D6;&#x6761;&#x6570;*/</span>
$orm-&gt;page(<span class="hljs-number">1</span>) <span class="hljs-comment">//&#x8BFB;&#x53D6;&#x7B2C;&#x4E00;&#x9875;(&#x524D;10&#x6761;&#x6570;&#x636E;)</span>
    -&gt;select(<span class="hljs-string">&apos;name,id&apos;</span>);

<span class="hljs-comment">/*page &#x8BBE;&#x7F6E;&#x504F;&#x79FB;&#x91CF;*/</span>
$orm-&gt;page(<span class="hljs-number">2</span>,<span class="hljs-number">15</span>) <span class="hljs-comment">//&#x6BCF;&#x9875;15&#x6761;&#xFF0C;&#x8BFB;&#x53D6;&#x7B2C;&#x4E8C;&#x9875;</span>
    -&gt;select(<span class="hljs-string">&apos;name,id&apos;</span>);
</code></pre>
<h2 id="6515-&#x51FD;&#x6570;-function"><a name="6515-&#x51FD;&#x6570;-function" class="anchor-navigation-ex-anchor" href="#6515-&#x51FD;&#x6570;-function"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.5. &#x51FD;&#x6570; {function}</h2>
<p>Orm &#x4E2D;&#x5185;&#x7F6E;&#x4E00;&#x4E9B;&#x5E38;&#x7528;sql&#x51FD;&#x6570;&#x548C;&#x64CD;&#x4F5C;</p>
<h3 id="65151-&#x805A;&#x5408;&#x51FD;&#x6570;"><a name="65151-&#x805A;&#x5408;&#x51FD;&#x6570;" class="anchor-navigation-ex-anchor" href="#65151-&#x805A;&#x5408;&#x51FD;&#x6570;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.5.1. &#x805A;&#x5408;&#x51FD;&#x6570;</h3>
<h4 id="count"><a name="count" class="anchor-navigation-ex-anchor" href="#count"><i class="fa fa-link" aria-hidden="true"></i></a>count()&#x65B9;&#x6CD5;&#xFF1A; &#x7EDF;&#x8BA1;&#x5B57;&#x6BB5; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">count</span><span class="hljs-params">( [string $column_name=<span class="hljs-string">&apos;*&apos;</span>, [, boolean $is_distinct = false]])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x6700;&#x591A;&#x4E24;&#x4E2A;&#x53C2;&#x6570;: <ol>
<li><code>string</code>(<code>$column_name</code>) [&#x9ED8;&#x8BA4;*] : &#x8981;&#x7EDF;&#x8BA1;&#x5B57;&#x6BB5;&#x9ED8;&#x8BA4;&#x5168;&#x90E8;&#x6761;&#x6570;</li>
<li><code>bool</code>(<code>$is_distinct</code>) [&#x9ED8;&#x8BA4;false]: &#x662F;&#x5426;&#x53BB;&#x91CD;</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x7EDF;&#x8BA1;&#x7684;&#x6570;&#x76EE;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7EDF;&#x8BA1;&#x603B;&#x6570;*/</span>
$orm-&gt;count();

<span class="hljs-comment">/*&#x7EDF;&#x8BA1;&#x4E0D;&#x91CD;&#x590D;&#x7684;&#x5B57;&#x6BB5;*/</span>
$orm-&gt;count(<span class="hljs-string">&apos;type&apos;</span>,<span class="hljs-keyword">true</span>);
</code></pre>
<h4 id="sum"><a name="sum" class="anchor-navigation-ex-anchor" href="#sum"><i class="fa fa-link" aria-hidden="true"></i></a>sum()&#x65B9;&#x6CD5;&#xFF1A; &#x6C42;&#x548C; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span><span class="hljs-params">(string $column_name)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570;: <code>string</code>(<code>$column_name</code>)&#x8981;&#x8BA1;&#x7B97;&#x7684;&#x5B57;&#x6BB5;</li>
<li>&#x8FD4;&#x56DE; <code>int</code> &#xFF1A; &#x6C42;&#x548C;&#x7ED3;&#x679C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7EDF;&#x8BA1;&#x603B;&#x6570;*/</span>
$orm-&gt;sum(<span class="hljs-string">&apos;score&apos;</span>);
</code></pre>
<h4 id="avg"><a name="avg" class="anchor-navigation-ex-anchor" href="#avg"><i class="fa fa-link" aria-hidden="true"></i></a>avg()&#x65B9;&#x6CD5;&#xFF1A; &#x6C42;&#x5747;&#x503C; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">avg</span><span class="hljs-params">(string $column_name)</span>
</span></code></pre>
</blockquote>
<p>&#x7528;&#x6CD5;&#x540C;sum</p>
<h4 id="max"><a name="max" class="anchor-navigation-ex-anchor" href="#max"><i class="fa fa-link" aria-hidden="true"></i></a>max()&#x65B9;&#x6CD5;&#xFF1A; &#x6C42;&#x6700;&#x5927;&#x503C; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">max</span><span class="hljs-params">(string $column_name)</span>
</span></code></pre>
</blockquote>
<p>&#x7528;&#x6CD5;&#x540C;sum</p>
<h4 id="min"><a name="min" class="anchor-navigation-ex-anchor" href="#min"><i class="fa fa-link" aria-hidden="true"></i></a>min()&#x65B9;&#x6CD5;&#xFF1A; &#x6C42;&#x6700;&#x5C0F;&#x503C; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">min</span><span class="hljs-params">(string $column_name)</span>
</span></code></pre>
</blockquote>
<p>&#x7528;&#x6CD5;&#x540C;sum</p>
<h3 id="65152-&#x81EA;&#x589E;&#x81EA;&#x51CF;&#x5199;&#x64CD;&#x4F5C;"><a name="65152-&#x81EA;&#x589E;&#x81EA;&#x51CF;&#x5199;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#65152-&#x81EA;&#x589E;&#x81EA;&#x51CF;&#x5199;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.5.2. &#x81EA;&#x589E;&#x81EA;&#x51CF;(&#x5199;&#x64CD;&#x4F5C;)</h3>
<h4 id="increment"><a name="increment" class="anchor-navigation-ex-anchor" href="#increment"><i class="fa fa-link" aria-hidden="true"></i></a>increment()&#x65B9;&#x6CD5;&#xFF1A;&#x5B57;&#x6BB5;&#x503C;&#x81EA;&#x589E; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">increment</span><span class="hljs-params">(string $column_name [,int $step=<span class="hljs-number">1</span>])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570;&#xFF1A;<ol>
<li><code>string</code>($column_name): &#x81EA;&#x589E;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>int</code>($step) [&#x53EF;&#x9009;] : &#x589E;&#x52A0;&#x6B65;&#x957F;&#x9ED8;&#x8BA4;&#x4E3A;1</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE;&#xFF1A; <code>int</code> &#x64CD;&#x4F5C;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*socre&#x503C;+1*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;increment(<span class="hljs-string">&apos;score&apos;</span>);

<span class="hljs-comment">/*socre&#x503C;+5*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;increment(<span class="hljs-string">&apos;score&apos;</span>,<span class="hljs-number">5</span>);
</code></pre>
<h4 id="decrement"><a name="decrement" class="anchor-navigation-ex-anchor" href="#decrement"><i class="fa fa-link" aria-hidden="true"></i></a>decrement()&#x65B9;&#x6CD5;&#xFF1A;&#x5B57;&#x6BB5;&#x503C;&#x81EA;&#x51CF; </h4>
<blockquote>
<pre><code class="lang-php">int <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decrement</span><span class="hljs-params">(string $column_name [,int $step=<span class="hljs-number">1</span>])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570;&#xFF1A;<ol>
<li><code>string</code>($column_name): &#x81EA;&#x51CF;&#x5C11;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>int</code>($step) [&#x53EF;&#x9009;] : &#x51CF;&#x5C11;&#x6B65;&#x957F;&#x9ED8;&#x8BA4;&#x4E3A;1</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE;&#xFF1A; <code>int</code> &#x64CD;&#x4F5C;&#x6210;&#x529F;&#x7684;&#x6761;&#x6570;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*socre&#x503C;-1 &#x76F8;&#x5F53;&#x4E8E; increment(&apos;score&apos;,-1)*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;decrement(<span class="hljs-string">&apos;score&apos;</span>);

<span class="hljs-comment">/*socre&#x503C;-5*/</span>
$orm-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)-&gt;decrement(<span class="hljs-string">&apos;score&apos;</span>,<span class="hljs-number">5</span>);
</code></pre>
<h2 id="6516-&#x591A;&#x8868;&#x64CD;&#x4F5C;-"><a name="6516-&#x591A;&#x8868;&#x64CD;&#x4F5C;-" class="anchor-navigation-ex-anchor" href="#6516-&#x591A;&#x8868;&#x64CD;&#x4F5C;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.6. &#x591A;&#x8868;&#x64CD;&#x4F5C; </h2>
<h3 id="65161-&#x591A;&#x8868;&#x67E5;&#x8BE2;"><a name="65161-&#x591A;&#x8868;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#65161-&#x591A;&#x8868;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.6.1. &#x591A;&#x8868;&#x67E5;&#x8BE2;</h3>
<p>join &#x53EF;&#x4EE5;&#x94FE;&#x63A5;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8868; &#xFF0C;&#x901A;&#x5E38; <a href="#has"><code>has</code>&#x65B9;&#x6CD5;</a> &#x548C; <a href="#belongs"><code>belongs</code>&#x65B9;&#x6CD5;</a>&#x7684;&#x5C01;&#x88C5;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x63A8;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;</p>
<h4 id="join"><a name="join" class="anchor-navigation-ex-anchor" href="#join"><i class="fa fa-link" aria-hidden="true"></i></a>join()&#x65B9;&#x6CD5; </h4>
<blockquote>
<pre><code class="lang-php">Object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span><span class="hljs-params">( string $type, string $table, mixed $on [, string  related_key= null])</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#x7B80;&#x5355;join&#xFF1A; <code>join($type,$table,string $table_key, string $related_key)</code><ol>
<li><code>string</code>($type): JOIN &#x7C7B;&#x578B; <code>INNER,LEFT,RIGHT,OUTER,FULL OUTER</code>&#x7B49; </li>
<li><code>string</code>($table)&#xFF1A; JOIN&#x7684;&#x8868;&#x540D;&#xFF0C;&#x652F;&#x6301;<code>AS</code> &#x522B;&#x540D;</li>
<li><code>string</code>($on)&#xFF1A; JOIN &#x8868;&#x4E2D;&#x7684;&#x5173;&#x8054;&#x5B57;&#x6BB5;,&#x4E0D;&#x7528;&#x52A0;&#x4E0A;&#x8868;&#x540D;&#x6216;&#x522B;&#x540D;</li>
<li><code>string</code>($related_key)&#xFF1A;&#x4E3B;&#x8868;&#x83B7;&#x5176;&#x4ED6;&#x8868;&#x4E0E;&#x4E4B;&#x76F8;&#x7B49;&#x7684;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#xFF0C;&#x901A;&#x5E38;&#x8981;&#x52A0;&#x4E0A;&#x8868;&#x540D;<ul>
<li>&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x590D;&#x6742;&#x903B;&#x8F91;(&#x6570;&#x7EC4;&#x6761;&#x4EF6;): <code>join($type,$table,array $on)</code></li>
</ul>
</li>
<li><code>string</code>($type): JOIN &#x7C7B;&#x578B;</li>
<li><code>string</code>($table): JOIN&#x7684;&#x8868;&#x540D;&#xFF0C;&#x652F;&#x6301;<code>AS</code> &#x522B;&#x540D;</li>
<li><code>array</code>($on) &#x4E09;&#x7EF4;&#x6570;&#x7EC4;: &#x5BF9;&#x4E8E;&#x591A;&#x4E2A;&#x6761;&#x4EF6;&#x6216;&#x8005;&#x590D;&#x6742;&#x903B;&#x8F91;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x7EC4;&#x5305;&#x542B;&#x4E00;&#x4E0B;&#x5185;&#x5BB9;<ul>
<li>[&#x5FC5;&#x987B;]<code>on</code>=&gt;array($field,$op,$value),&#x53C2;&#x8003;<a href="#where">where</a>&#x8868;&#x8FBE;&#x5F0F;&#x53C2;&#x6570;</li>
<li>[&#x53EF;&#x9009;]<code>logic</code>=&gt; &#x6761;&#x4EF6;&#x5173;&#x7CFB;&apos;AND&apos;&#x6216;&#x8005;&apos;OR&apos;&#xFF0C; &#x9ED8;&#x8BA4;&#x91C7;&#x7528;AND&#x8FDE;&#x63A5;</li>
<li>[&#x53EF;&#x9009;]<code>value</code>=&gt;<code>NULL</code>&#x6216;&#x8005;<code>&apos;VALUE&apos;</code>,&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x6216;&#x8005;&#x4E3A;NULL&#xFF0C;<code>on</code>&#x6761;&#x4EF6;&#x4E2D;&#x7684;&#x503C;&#x4F1A;&#x6309;&#x5B57;&#x6BB5;&#x5904;&#x7406;&#xFF0C;&#x5426;&#x5219;&#x6309;&#x7167;&#x503C;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE;<code>Orm</code>&#x5BF9;&#x8C61;&#xFF1A;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</p>
</li>
<li>tips:<ul>
<li>has&#x6216;&#x8005;belongs&#x7B49;&#x64CD;&#x4F5C;&#x6BD4;&#x590D;&#x6742;&#x6761;&#x4EF6;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#x4E5F;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;</li>
<li>&#x590D;&#x6742;join&#x7684; on &#x6761;&#x4EF6;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x653E;&#x5230;where&#x6761;&#x4EF6;</li>
</ul>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7B80;&#x5355;join&#x5173;&#x8054;user&#x8868;&#x7684;user.id&#x548C;article&#x8868;&#x7684;user_id*/</span>
$orm-&gt;join(<span class="hljs-string">&apos;INNER&apos;</span>,<span class="hljs-string">&apos;article&apos;</span>,<span class="hljs-string">&apos;user_id&apos;</span>,<span class="hljs-string">&apos;user.id&apos;</span>);

<span class="hljs-comment">/*&#x590D;&#x6742;&#x5173;&#x8054;*/</span>
$response= Db::table(<span class="hljs-string">&apos;comment&apos;</span>)
     -&gt;field(<span class="hljs-string">&apos;from.id as from_id,from.name as from&apos;</span>)
     -&gt;field(<span class="hljs-string">&apos;to.id AS to_id,to.name as to&apos;</span>)
     -&gt;join(<span class="hljs-string">&apos;LEFT&apos;</span>,<span class="hljs-string">&apos;article&apos;</span>,<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-string">&apos;comment.article_id&apos;</span>)
     -&gt;join(<span class="hljs-string">&apos;INNER&apos;</span>,<span class="hljs-string">&apos;user as from&apos;</span>,[<span class="hljs-comment">// &#x8BC4;&#x8BBA;&#x53D1;&#x51FA;&#x7684;&#x7528;&#x6237;</span>
         [
             <span class="hljs-string">&apos;on&apos;</span>=&gt;[<span class="hljs-string">&apos;from.id&apos;</span>,<span class="hljs-string">&apos;=&apos;</span>,<span class="hljs-string">&apos;comment.user_id&apos;</span>],
             <span class="hljs-string">&apos;logic&apos;</span>=&gt;<span class="hljs-string">&apos;AND&apos;</span>,<span class="hljs-comment">//&#x9ED8;&#x8BA4;&#x662F;AND&#x53EF;&#x4EE5;&#x7701;&#x7565;</span>
             <span class="hljs-string">&apos;value&apos;</span>=&gt;<span class="hljs-keyword">NULL</span>,<span class="hljs-comment">//value&#x4E3A;NULL&#x5B89;&#x88C5;&#x5B57;&#x6BB5;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565;</span>
         ],
         [
             <span class="hljs-string">&apos;on&apos;</span>=&gt;[<span class="hljs-string">&apos;from.status&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">0</span>],
             <span class="hljs-string">&apos;logic&apos;</span>=&gt;<span class="hljs-string">&apos;AND&apos;</span>,
             <span class="hljs-string">&apos;value&apos;</span>=&gt;<span class="hljs-string">&apos;value&apos;</span>,<span class="hljs-comment">//&#x503C;&#x7ED1;&#x5B9A;,on&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x201C;0&#x201D; &#x4F1A;&#x6309;&#x7167;&#x503C;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x6BB5;</span>
         ],
     ])-&gt;join(<span class="hljs-string">&apos;LEFT&apos;</span>,<span class="hljs-string">&apos;user AS to&apos;</span>,[<span class="hljs-comment">//&#x8BC4;&#x8BBA;&#x6587;&#x7AE0;&#x7684;&#x4F5C;&#x8005;</span>
         [
             <span class="hljs-string">&apos;on&apos;</span>=&gt;[<span class="hljs-string">&apos;article.user_id&apos;</span>,<span class="hljs-string">&apos;=&apos;</span>,<span class="hljs-string">&apos;to.id&apos;</span>],
         ],
         [
             <span class="hljs-string">&apos;on&apos;</span>=&gt;[<span class="hljs-string">&apos;to.status&apos;</span>,<span class="hljs-string">&apos;&gt;&apos;</span>,<span class="hljs-number">0</span>],
             <span class="hljs-string">&apos;value&apos;</span>=&gt;<span class="hljs-string">&apos;value&apos;</span>,
         ]
     ])-&gt;select();
</code></pre>
<h4 id="has"><a name="has" class="anchor-navigation-ex-anchor" href="#has"><i class="fa fa-link" aria-hidden="true"></i></a>has()&#x65B9;&#x6CD5; </h4>
<p>has &#x662F;&#x5BF9;<code>LEFT JOIN</code>&#x65B9;&#x6CD5;&#x7684;&#x5FEB;&#x6377;&#x5C01;&#x88C5;&#xFF0C;&#x8868;&#x793A; &#x4E00;&#x4E2A;&#x8868;&#x5728;&#x903B;&#x8F91;&#x4E0A;&#x201C;&#x62E5;&#x6709;&#x201D;&#x53E6;&#x4E00;&#x4E2A;&#x8868;,&#x6BD4;&#x5982; &#x7528;&#x6237;(user&#x8868;) &#x62E5;&#x6709; &#x6587;&#x7AE0;(article&#x8868;).
&#x53EF;&#x4EE5;&#x8868;&#x793A; $user-&gt;has(&apos;article&apos;). &#x6B64;&#x65F6;&#x4F1A;&#x4F7F;&#x7528;article&#x7684;&#x5916;&#x952E;&#x5173;&#x8054;user&#x4E3B;&#x952E;&#x3002;</p>
<blockquote>
<pre><code class="lang-php">Object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">has</span><span class="hljs-params">(string $table [, string $table_fk = null [, string $related_key = null]])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570;&#xFF1A;<ol>
<li><code>string</code>($table): &#x5173;&#x8054;&#x7684;&#x8868;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; AS &#x8BBE;&#x7F6E;&#x522B;&#x540D;</li>
<li><code>string</code>($table_fk) [&#x53EF;&#x9009;]: has &#x7684; &#x8868;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x5916;&#x952E;&#xFF0C;&#x9ED8;&#x8BA4;&#x91C7;&#x7528;&#x5F53;&#x524D;Orm&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x540D;+&apos;_id&apos;</li>
<li><code>string</code>($related_key) [&#x53EF;&#x9009;]: &#x9ED8;&#x8BA4;&#x662F;&#x6B64;&#x8868;&#x7684;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x591A;&#x8868;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0D;&#x662F;&#x5F53;&#x524D;&#x8868;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x8868;&#x540D;&#x5982;&apos;table.id&apos;</li>
</ol>
</li>
<li>&#x8FD4;&#x56DE;<code>Orm</code>&#x5BF9;&#x8C61;&#xFF1A;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7B80;&#x5355;&#x7528;&#x6CD5;*/</span>
$orm-&gt;has(<span class="hljs-string">&apos;article&apos;</span>);

<span class="hljs-comment">/*&#x591A;&#x7EA7;&#x5173;&#x8054;&#xFF0C;&#x7528;&#x6237;&#x6709;&#x6587;&#x7AE0;&#xFF0C;&#x6587;&#x7AE0;&#x6709;&#x8BC4;&#x8BBA;*/</span>
$user-&gt;has(<span class="hljs-string">&apos;article&apos;</span>)
     -&gt;has(<span class="hljs-string">&apos;comment&apos;</span>,<span class="hljs-string">&apos;article_id&apos;</span>,<span class="hljs-string">&apos;article.id&apos;</span>);

<span class="hljs-comment">/*&#x5B8C;&#x6574;&#x67E5;&#x8BE2;&#x5B9E;&#x4F8B;*/</span>
$feed=Db::table(<span class="hljs-string">&apos;user&apos;</span>)
    -&gt;has(<span class="hljs-string">&apos;feedback AS fb&apos;</span>)<span class="hljs-comment">//&#x7528;&#x6237;&#x6709;feedback &#x8BBE;&#x7F6E;&#x522B;&#x540D;</span>
    -&gt;where(<span class="hljs-string">&apos;user.id&apos;</span>,<span class="hljs-number">1</span>)
    -&gt;select(<span class="hljs-string">&apos;user.id,user.name,fb.title,fb.content as feedback&apos;</span>);
</code></pre>
<h4 id="belongs"><a name="belongs" class="anchor-navigation-ex-anchor" href="#belongs"><i class="fa fa-link" aria-hidden="true"></i></a>belongs()&#x65B9;&#x6CD5; </h4>
<p>belongs &#x662F;&#x5BF9; <code>INNER JOIN</code>&#x65B9;&#x6CD5;&#x7684;&#x5FEB;&#x6377;&#x5C01;&#x88C5;&#xFF0C;&#x8868;&#x793A; &#x4E00;&#x4E2A;&#x8868;&#x5728;&#x903B;&#x8F91;&#x4E0A;&#x201C;&#x4ECE;&#x5C5E;&#x201D;&#x53E6;&#x4E00;&#x4E2A;&#x8868;,&#x4E8E;has&#x76F8;&#x53CD;&#x3002;
&#x6BD4;&#x5982; &#x6587;&#x7AE0;&#x5C5E;&#x4E8E;&#x7528;&#x6237; (article &#x8868;&#x7684;&#x5916;&#x952E;&#x5982; user_id &#x5173;&#x8054; user&#x8868;&#x7684;&#x4E3B;&#x952E;&#x5982;id)&#x3002;</p>
<blockquote>
<pre><code class="lang-php">Object  belongs(string $table [, string $related_key = <span class="hljs-keyword">null</span> [, string $primary_key = <span class="hljs-string">&apos;id&apos;</span>]])
</code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;&#xFF1A;</p>
<ol>
<li><code>string</code>($table): &#x5173;&#x8054;&#x7684;&#x8868;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; AS &#x8BBE;&#x7F6E;&#x522B;&#x540D;</li>
<li><code>string</code>($related_key) [&#x53EF;&#x9009;]: &#x4E0E;&#x4E4B;&#x5173;&#x8054;&#x7684;&#x5916;&#x952E;&#x9ED8;&#x8BA4;<code>$table_id</code>,&#x5982;&#x679C;&#x662F;&#x5176;&#x4ED6;&#x8868;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x8868;&#x540D; <code>table.fk_id</code></li>
<li><code>string</code>($primary_key) [&#x53EF;&#x9009;]: $table&#x8868;&#x7684;&#x4E3B;&#x952E;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;<code>id</code></li>
</ol>
</li>
<li><p>&#x8FD4;&#x56DE;<code>Orm</code>&#x5BF9;&#x8C61;&#xFF1A;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</p>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x7B80;&#x5355;&#x7528;&#x6CD5;*/</span>
$article-&gt;belongs(<span class="hljs-string">&apos;user&apos;</span>);

<span class="hljs-comment">/*&#x591A;&#x7EA7;&#x5173;&#x8054;&#xFF0C;&#x6587;&#x7AE0;&#x5C5E;&#x4E8E;&#x7528;&#x6237;&#xFF0C;&#x6587;&#x7AE0;&#x6709;&#x8BC4;&#x8BBA;*/</span>
<span class="hljs-comment">//&#x4E0E;has&#x7684;&#x4F8B;&#x5B50;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x67E5;&#x8BE2;&#x7684;&#x4E3B;&#x8868;&#x7531;user&#x8868;&#x53D8;&#x6210;article&#x8868;</span>
$article-&gt;belongs(<span class="hljs-string">&apos;user&apos;</span>)
     -&gt;has(<span class="hljs-string">&apos;comment&apos;</span>);

<span class="hljs-comment">/*&#x591A;&#x7EA7;&#x5173;&#x8054;&#xFF0C;&#x5B9E;&#x4F8B;*/</span>
Db::table(<span class="hljs-string">&apos;comment&apos;</span>)
     -&gt;belongs(<span class="hljs-string">&apos;user&apos;</span>)<span class="hljs-comment">//&#x8BC4;&#x8BBA;&#x5C5E;&#x4E8E;&#x7528;&#x6237;</span>
     -&gt;field(<span class="hljs-string">&apos;user.name&apos;</span>,<span class="hljs-string">&apos;user&apos;</span>)<span class="hljs-comment">//&#x7528;&#x6237;&#x540D;</span>
     -&gt;belongs(<span class="hljs-string">&apos;article&apos;</span>)<span class="hljs-comment">//&#x8BC4;&#x8BBA;&#x5C5E;&#x4E8E;&#x6587;&#x7AE0;</span>
     -&gt;field([<span class="hljs-string">&apos;article.title&apos;</span>=&gt;<span class="hljs-string">&apos;article&apos;</span>])<span class="hljs-comment">//&#x9009;&#x53D6;article &#x6807;&#x9898;</span>
     -&gt;belongs(<span class="hljs-string">&apos;user AS reply&apos;</span>,<span class="hljs-string">&apos;article.user_id&apos;</span>)<span class="hljs-comment">//&#x6587;&#x7AE0;&#x5C5E;&#x4E8E;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6237;</span>
     -&gt;field(<span class="hljs-string">&apos;reply.id AS rid,reply.name as reciever&apos;</span>)<span class="hljs-comment">//&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x7684;id&#x548C;&#x59D3;&#x540D;</span>
     -&gt;select(<span class="hljs-string">&apos;comment.*&apos;</span>);<span class="hljs-comment">//comment&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;</span>
</code></pre>
<h3 id="65162-&#x5408;&#x5E76;&#x67E5;&#x8BE2;"><a name="65162-&#x5408;&#x5E76;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#65162-&#x5408;&#x5E76;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.6.2. &#x5408;&#x5E76;&#x67E5;&#x8BE2;</h3>
<h4 id="union"><a name="union" class="anchor-navigation-ex-anchor" href="#union"><i class="fa fa-link" aria-hidden="true"></i></a>union()&#x65B9;&#x6CD5;: &#x5408;&#x5E76; </h4>
<p>UNION &#x5C06;&#x7ED3;&#x679C;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">union</span><span class="hljs-params">(Orm $query [, boolean $is_all = false])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>Orm</code>)<code>$query</code>: &#x5305;&#x542B;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7684;<code>Orm</code>&#x5BF9;&#x8C61;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;<code>select</code>&#x7684;&#x7ED3;&#x679C;</li>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$is_all</code> &#x9ED8;&#x8BA4;false: &#x4E3A;<code>true</code>&#x65F6; UNION ALL </li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">Db::table(<span class="hljs-string">&apos;student)
    -&gt;field(&apos;</span>id,name,number<span class="hljs-string">&apos;)
    -&gt;union(
        Db::table(&apos;</span>teacher<span class="hljs-string">&apos;)
            -&gt;field(&apos;</span>id,name,number<span class="hljs-string">&apos;)
    )-&gt;select();
</span></code></pre>
<h4 id="unionAll"><a name="unionAll" class="anchor-navigation-ex-anchor" href="#unionAll"><i class="fa fa-link" aria-hidden="true"></i></a>unionAll()&#x65B9;&#x6CD5;:&#x5168;&#x90E8;&#x5408;&#x5E76; </h4>
<p>UNION &#x9ED8;&#x8BA4;&#x4F1A;&#x53BB;&#x9664;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;&#xFF0C;UNION ALL &#x4E0D;&#x53BB;&#x91CD;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">union</span><span class="hljs-params">(Orm $query)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>Orm</code>)<code>$query</code>: &#x5305;&#x542B;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7684;<code>Orm</code>&#x5BF9;&#x8C61;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;<code>select</code>&#x7684;&#x7ED3;&#x679C;</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code>: &#x8FD4;&#x56DE;$this</li>
<li>&#x7528;&#x6CD5;&#x4E0E;<a href="#union">union</a>&#x540C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code>$orm1-&gt;where(&apos;...&apos;)
    //&#x66F4;&#x591A;&#x8BBE;&#x7F6E;
    -&gt;field(&apos;...&apos;);
$orm-&gt;unionAll($orm1)
    -&gt;select();
</code></pre><h2 id="6517-&#x5176;&#x4ED6;-"><a name="6517-&#x5176;&#x4ED6;-" class="anchor-navigation-ex-anchor" href="#6517-&#x5176;&#x4ED6;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7. &#x5176;&#x4ED6; </h2>
<h4 id="transact"><a name="transact" class="anchor-navigation-ex-anchor" href="#transact"><i class="fa fa-link" aria-hidden="true"></i></a>transact()&#x65B9;&#x6CD5;&#xFF1A;&#x5904;&#x7406;&#x4E8B;&#x52A1; </h4>
<p>&#x51E0;&#x4E2A;&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x90FD;&#x6210;&#x529F;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4E8B;&#x52A1;.</p>
<p>&#x66F4;&#x5E95;&#x5C42;&#x7684;&#x4E8B;&#x52A1;&#x53C2;&#x89C1;<a href="database.html#tansaction">Database::tansaction</a></p>
<blockquote>
<pre><code class="lang-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">transact</span><span class="hljs-params">(callable $func)</span> : <span class="hljs-title">mixed</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570;callable $func: &#x8C03;&#x7528;&#x51FD;&#x6570;&#x8FC7;&#x7A0B;(&#x53EF;&#x4EE5;&#x662F;&#x533F;&#x540D;&#x51FD;&#x6570;)<ul>
<li>$func &#x53C2;&#x6570;&#x662F;&#x5F53;&#x524D;&#x5BF9;&#x8C61;(<code>$this</code>)</li>
<li>&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x662F;<code>false</code>(&#x4E25;&#x683C;&#x7684;false,null,0&#x7B49;&#x63A7;<strong>&#x4E0D;&#x662F;false</strong>),&#x540C;&#x6837;&#x6267;&#x884C;&#x56DE;&#x6EDA;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;&#xFF1A;<ul>
<li><code>false</code>(&#x6267;&#x884C;&#x5931;&#x8D25;)</li>
<li><code>$func</code>&#x7684;&#x56DE;&#x8C03;&#x503C;(&#x6267;&#x884C;&#x6210;&#x529F;)</li>
</ul>
</li>
<li>tips&#xFF1A;<ul>
<li>&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x9519;&#x540C;&#x6837;&#x56DE;&#x6EDA;</li>
<li><code>$func</code>&#x8FD4;&#x56DE;<code>false</code>&#x4F1A;&#x5F3A;&#x5236;&#x56DE;&#x6EDA;</li>
</ul>
</li>
<li>&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x8F6C;&#x79EF;&#x5206;*/</span>
$Orm-&gt;transact(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($user)</span> </span>{
 $user-&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">1</span>)
      -&gt;increment(<span class="hljs-string">&apos;score&apos;</span>,<span class="hljs-number">5</span>);<span class="hljs-comment">//id&#x4E3A;1&#x7684;&#x7528;&#x6237;&#x79EF;&#x5206;+5</span>
 $user-&gt;clear() <span class="hljs-comment">//&#x6E05;&#x7A7A;&#x67E5;&#x8BE2;&#x91CD;&#x7528;</span>
      -&gt;where(<span class="hljs-string">&apos;id&apos;</span>,<span class="hljs-number">2</span>)
      -&gt;decrement(<span class="hljs-string">&apos;score&apos;</span>,<span class="hljs-number">5</span>);<span class="hljs-comment">//id&#x4E3A;2&#x7684;&#x79EF;&#x5206;-5</span>
 <span class="hljs-keyword">return</span> $user-&gt;get(<span class="hljs-string">&apos;score&apos;</span>)&gt;<span class="hljs-number">0</span>;<span class="hljs-comment">//&#x5224;&#x65AD;&#x52A0;&#x5206;&#x662F;&#x5426;&#x4E3A;&#x6B63;,&#x5982;&#x679C;&#x6B64;&#x65F6;&#x79EF;&#x5206;&#x5C0F;&#x4E8E;0&#x4F9D;&#x7136;&#x56DE;&#x6EDA;</span>
});
</code></pre>
<h3 id="65171-autoclear&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><a name="65171-autoclear&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-" class="anchor-navigation-ex-anchor" href="#65171-autoclear&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.1. autoClear()&#x65B9;&#x6CD5;: &#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA; </h3>
<p>&#x67E5;&#x8BE2;&#x7ED3;&#x675F;&#x540E;&#x81EA;&#x52A8;&#x6E05;&#x7406;&#x6389;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x548C;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x518D;&#x6B21;&#x4F7F;&#x7528;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">autoClear</span><span class="hljs-params">(boolean $clear])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$clear</code> : &#x662F;&#x5426;&#x5F00;&#x542F;,&#x8BBE;&#x4E3A;false&#x65F6;&#x5173;&#x95ED;&#x81EA;&#x52A8;&#x6E05;&#x9664;</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$query=Db::table(<span class="hljs-string">&apos;user&apos;</span>)-&gt;autoClear();
</code></pre>
<h3 id="65172-debug&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><a name="65172-debug&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-" class="anchor-navigation-ex-anchor" href="#65172-debug&#x65B9;&#x6CD5;-&#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.2. debug()&#x65B9;&#x6CD5;: &#x5F00;&#x542F;&#x8C03;&#x8BD5;&#x8F93;&#x51FA; </h3>
<p>&#x7A0B;&#x5E8F;&#x8C03;&#x8BD5;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x8F93;&#x51FA;sql&#x8BED;&#x53E5;&#xFF0C;debug&#x5F00;&#x542F;&#x4E4B;&#x540E;&#x3002; &#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;sql&#x8BED;&#x53E5;&#x548C;&#x53C2;&#x6570;&#x3002;
&#x5F71;&#x54CD;&#x7684;&#x64CD;&#x4F5C;&#x5305;&#x62EC;&#x4E00;&#x4E0B;&#x64CD;&#x4F5C;(&#x8FD4;&#x56DE;&#x6570;&#x7EC4;&#x5305;&#x542B; <code>sql</code> &#x548C; <code>param</code> )</p>
<ul>
<li>&#x67E5;&#x8BE2;: <code>select</code>,<code>find</code>,<code>get</code>,<code>count</code>,<code>min</code>,<code>max</code>,<code>avg</code>,<code>sum</code></li>
<li>&#x6DFB;&#x52A0;: <code>insert</code>,<code>add</code>,</li>
<li>&#x4FEE;&#x6539;&#xFF1A;<code>update</code>,<code>save</code>,<code>put</code>,<code>increment</code>,<code>decrement</code></li>
<li>&#x5220;&#x9664;&#xFF1A;<code>delete</code>,</li>
</ul>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debug</span><span class="hljs-params">([boolean $enable=true])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$enable</code> : &#x662F;&#x5426;&#x5F00;&#x542F;,&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x662F;<code>true</code>&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x5173;&#x95ED;&#x8C03;&#x8BD5;</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$query=Db::table(<span class="hljs-string">&apos;user&apos;</span>)
        -&gt;debug()
        -&gt;count();
<span class="hljs-comment">/*$query &#x7ED3;&#x679C;&#x5982;&#x4E0B;
Array ( 
    [sql] =&gt; &apos;SELECT COUNT(*)FROM`user`&apos;,
    [param] =&gt; Array ( ) 
    ); 
*/</span>
</code></pre>
<h3 id="65173-safe&#x65B9;&#x6CD5;&#x5B89;&#x5168;&#x6A21;&#x5F0F;-"><a name="65173-safe&#x65B9;&#x6CD5;&#x5B89;&#x5168;&#x6A21;&#x5F0F;-" class="anchor-navigation-ex-anchor" href="#65173-safe&#x65B9;&#x6CD5;&#x5B89;&#x5168;&#x6A21;&#x5F0F;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.3. safe()&#x65B9;&#x6CD5;:&#x5B89;&#x5168;&#x6A21;&#x5F0F; </h3>
<p><code>Orm</code>&#x5728;&#x751F;&#x6210;sql&#x8BED;&#x53E5;&#x65F6;&#xFF0C;&#x4F1A;&#x5BF9;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x4E25;&#x683C;&#x7684;&#x683C;&#x5F0F;&#x68C0;&#x67E5;&#xFF0C;where&#x548C;field&#x7B49;&#x64CD;&#x4F5C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x539F;&#x751F;&#x7684;sql&#x8BED;&#x53E5;&#x6216;&#x8005;&#x590D;&#x6742;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002;
&#x5FC5;&#x8981;&#x65F6;&#x53EF;&#x4EE5;&#x628A;safe&#x6A21;&#x5F0F;&#x5173;&#x95ED;&#xFF0C;&#x4ECE;&#x800C;&#x5173;&#x95ED;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x68C0;&#x67E5;&#x548C;&#x5305;&#x88C5;&#x3002;</p>
<p>&#x8B66;&#x544A;&#xFF1A;&#x5C3D;&#x91CF;<strong>&#x4E0D;&#x8981;&#x4F7F;&#x7528;</strong>&#x6B64;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x4F1A;&#x964D;&#x4F4E;&#x5B89;&#x5168;&#x6027;&#x540C;&#x65F6;&#x5E26;&#x6765;&#x4E0D;&#x786E;&#x5B9A;&#x56E0;&#x7D20;&#xFF01;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">safe</span><span class="hljs-params">([boolean $enable=true])</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; (<code>boolean</code>) <code>$enable</code> : &#x662F;&#x5426;&#x5F00;&#x542F;,&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x662F;<code>true</code>&#xFF0C;&#x8BBE;&#x4E3A;false&#x65F6;&#x5173;&#x95ED;&#x5B89;&#x5168;&#x6A21;&#x5F0F;</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C; </li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x5404;&#x79CD;&#x7EDF;&#x8BA1;&#x6027;&#x522B;&#x4EBA;&#x6570;*/</span>
Db::table(<span class="hljs-string">&apos;user&apos;</span>)-&gt;safe(<span class="hljs-keyword">false</span>)<span class="hljs-comment">//&#x5173;&#x95ED;&#x5B89;&#x5168;&#x6A21;&#x5F0F;</span>
    -&gt;field([
       <span class="hljs-string">&apos;SUM(CASE WHEN sex = &quot;m&quot; THEN 1 ELSE 0 END)&apos;</span>=&gt;<span class="hljs-string">&apos;male&apos;</span>, 
       <span class="hljs-string">&apos;SUM(CASE WHEN sex = &quot;f&quot; THEN 1 ELSE 0 END)&apos;</span>=&gt;<span class="hljs-string">&apos;female&apos;</span> 
    ])-&gt;select();<span class="hljs-comment">//&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4F1A;&#x62A5;&#x9519;</span>
</code></pre>
<h3 id="65174-clear&#x65B9;&#x6CD5;-&#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2;-"><a name="65174-clear&#x65B9;&#x6CD5;-&#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2;-" class="anchor-navigation-ex-anchor" href="#65174-clear&#x65B9;&#x6CD5;-&#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.4. clear()&#x65B9;&#x6CD5;: &#x6E05;&#x7A7A;&#x8BBE;&#x7F6E;&#x548C;&#x67E5;&#x8BE2; </h3>
<p>&#x6E05;&#x7A7A;&#x4E4B;&#x524D;&#x6B64;ORM&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x8BBE;&#x7F6E;&#x548C;&#x6570;&#x636E;&#x3002;
&#x4F46;&#x662F; <strong>&#x522B;&#x540D;<code>alias</code></strong> &#x548C; <strong>&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x7F6E;</strong> &#x4E0D;&#x4F1A;&#x6E05;&#x9664;&#x3002;
&#x901A;&#x5E38;&#x7528;&#x6765;&#x653E;&#x5F03;&#x4E4B;&#x524D;&#x7684;&#x64CD;&#x4F5C;&#x6216;&#x8005;&#x91CD;&#x7528;&#x5BF9;&#x8C61;&#x3002;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php">$orm-&gt;clear()-&gt;select();
</code></pre>
<h3 id="65175-&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93;-"><a name="65175-&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93;-" class="anchor-navigation-ex-anchor" href="#65175-&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.5. &#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93; </h3>
<p>ORM &#x4F1A;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x81EA;&#x52A8;&#x94FE;&#x63A5;&#x6570;&#x636E;&#x5E93;</p>
<ul>
<li><code>_</code>(&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;): &#x4E3B;&#x6570;&#x636E;&#x5E93;(&#x6CA1;&#x6709;&#x989D;&#x5916;&#x8BBE;&#x7F6E;&#x4F1A;&#x4F7F;&#x7528;&#x6B64;&#x6570;&#x636E;&#x5E93;) </li>
<li><code>_read</code>(&#x53EF;&#x9009;): &#x4ECE;&#x6570;&#x636E;&#x5E93;(&#x8BFB;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;),&#x8BBE;&#x7F6E;&#x6B64;&#x6570;&#x636E;&#x5E93;&#x540E;&#x8BFB;&#x64CD;&#x4F5C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x6B64;&#x6570;&#x636E;&#x5E93;  </li>
<li><code>_write</code>(&#x53EF;&#x9009;): &#x5199;&#x6570;&#x636E;&#x5E93;,&#x8BBE;&#x7F6E;&#x6B64;&#x6570;&#x636E;&#x5E93;&#x5199;&#x64CD;&#x4F5C;&#x4F18;&#x5148;&#x4F7F;&#x7528;&#x6B64;&#x6570;&#x636E;&#x5E93;  </li>
</ul>
<h4 id="setDb"><a name="setDb" class="anchor-navigation-ex-anchor" href="#setDb"><i class="fa fa-link" aria-hidden="true"></i></a>setDb()&#x65B9;&#x6CD5;:&#x8BBE;&#x5B9A;&#x6570;&#x636E;&#x5E93; </h4>
<p>&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x4E4B;&#x540E;,<strong>&#x5F53;&#x524D;Orm</strong>&#x5BF9;&#x8C61;,&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8BBE;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x3002;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDb</span><span class="hljs-params">(mixed $db)</span>
</span></code></pre>
</blockquote>
<ul>
<li>&#x53C2;&#x6570; <code>mixed</code> <code>$db</code>: <ul>
<li><code>string</code> :  &#x914D;&#x7F6E;&#x540D;&#x79F0;,&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x4F7F;&#x7528;&#x6B64;&#x914D;&#x7F6E;&#x94FE;&#x63A5;</li>
<li><code>array</code> &#x952E;&#x503C;&#x5BF9;&#x6570;&#x7EC4;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5305;&#x542B;<ol>
<li><code>$db[&apos;dsn&apos;]</code>&#x5FC5;&#x987B;: &#x6570;&#x636E;&#x5E93;&#x7684;DSN</li>
<li><code>$db[&apos;username&apos;]</code>&#x53EF;&#x9009;: &#x6570;&#x636E;&#x5E93;&#x8D26;&#x53F7;</li>
<li><code>$db[&apos;password&apos;]</code>&#x53EF;&#x9009;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;</li>
</ol>
</li>
<li><code>Database</code>&#x5BF9;&#x8C61;&#xFF1A; &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5DF2;&#x7ECF;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x914D;&#x7F6E;&#x540D;&#x79F0;*/</span>
$orm-&gt;setDb(<span class="hljs-string">&apos;_&apos;</span>);<span class="hljs-comment">//&#x5F3A;&#x5236;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x5E93;</span>

<span class="hljs-comment">/*&#x6570;&#x7EC4;&#x914D;&#x7F6E;*/</span>
$orm-&gt;setDb([
    <span class="hljs-string">&apos;dsn&apos;</span>=&gt;<span class="hljs-string">&apos;sqlite:/temp/databases/test.db&apos;</span>
]);<span class="hljs-comment">//&#x5207;&#x6362;&#x5230;&#x6B64;sqlite&#x6570;&#x636E;&#x5E93;</span>

<span class="hljs-comment">/*&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;*/</span>
$db=Db::current();<span class="hljs-comment">//&#x83B7;&#x53D6;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x5E93;</span>
$orm-&gt;setDb($db);
</code></pre>
<h3 id="65176-alias-&#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D;-"><a name="65176-alias-&#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D;-" class="anchor-navigation-ex-anchor" href="#65176-alias-&#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D;-"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.7.6. alias() &#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x522B;&#x540D; </h3>
<p>&#x591A;&#x8868;&#x64CD;&#x4F5C;&#x6709;&#x65F6;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x522B;&#x540D;&#x8BBE;&#x7F6E;&#x3002;Alias &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x4E3B;&#x8868;&#x7684;&#x522B;&#x540D;&#x3002;</p>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alias</span><span class="hljs-params">(string $alias)</span>
</span></code></pre>
<ul>
<li>&#x53C2;&#x6570; <code>string</code> $alias: &#x6570;&#x636E;&#x8868;&#x7684;&#x522B;&#x540D;</li>
<li>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
</blockquote>
<pre><code class="lang-php">$orm-&gt;alias(<span class="hljs-string">&apos;a&apos;</span>)<span class="hljs-comment">//&#x6570;&#x636E;&#x5E93;&#x8868;&#x522B;&#x540D;&#x8BBE;&#x4E3A;a</span>
    -&gt;select(<span class="hljs-string">&apos;a.id&apos;</span>);
</code></pre>
<h2 id="6518-&#x6570;&#x636E;&#x64CD;&#x4F5C;"><a name="6518-&#x6570;&#x636E;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#6518-&#x6570;&#x636E;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.8. &#x6570;&#x636E;&#x64CD;&#x4F5C;</h2>
<h3 id="65181-&#x5B58;&#x53D6;&#x65B9;&#x6CD5;"><a name="65181-&#x5B58;&#x53D6;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#65181-&#x5B58;&#x53D6;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.8.1. &#x5B58;&#x53D6;&#x65B9;&#x6CD5;</h3>
<h4 id="set"><a name="set" class="anchor-navigation-ex-anchor" href="#set"><i class="fa fa-link" aria-hidden="true"></i></a>set()&#x65B9;&#x6CD5;&#xFF1A;&#x8BBE;&#x7F6E;&#x6570;&#x636E; </h4>
<blockquote>
<pre><code class="lang-php">object <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set</span><span class="hljs-params">(mixed $key,mixed $value)</span>
</span></code></pre>
</blockquote>
<ul>
<li><p>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x952E;&#x503C;&#x5BF9;&#x6216;&#x8005;&#x6570;&#x7EC4;: </p>
<ul>
<li><p>&#x4E24;&#x4E2A;&#x53C2;&#x6570; &#x952E;&#x503C;&#xFF1A;</p>
<ol>
<li><code>string</code> (<code>key</code>)&#x952E;: &#x8BBE;&#x7F6E;&#x7684;&#x5B57;&#x6BB5;</li>
<li><code>mixed</code> (<code>$value</code>): &#x8BBE;&#x7F6E;&#x503C;</li>
</ol>
</li>
<li><p>&#x6570;&#x7EC4;&#xFF1A;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x53C2;&#x6570; <code>array</code>: &#x6279;&#x91CF;&#x8BBE;&#x7F6E;&#x952E;&#x503C;&#x5BF9; </li>
</ul>
</li>
</ul>
</li>
<li><p>&#x8FD4;&#x56DE; <code>Orm Object</code> &#xFF1A; &#x8FD4;&#x56DE;$this&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;</p>
</li>
<li>tips:<ul>
<li>&#x540E;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#x4F1A;&#x8986;&#x76D6;&#x4E4B;&#x524D;&#x7684;&#x503C;</li>
<li>&#x53EA;&#x6709;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;(<code>add</code>,<code>save</code>)&#x4E4B;&#x540E;&#x6570;&#x636E;&#x624D;&#x4F1A;&#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93;</li>
</ul>
</li>
<li>&#x793A;&#x4F8B;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x8BBE;&#x7F6E;&#x53C2;&#x6570;*/</span>
$orm-&gt;set(<span class="hljs-string">&apos;name&apos;</span>,<span class="hljs-string">&apos;future&apos;</span>)
    -&gt;set(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>)
    -&gt;add();<span class="hljs-comment">//&#x6DFB;&#x52A0;&#x6570;&#x636E;</span>
</code></pre>
<h4 id="get&#x65B9;&#x6CD5;&#xFF1A;&#x83B7;&#x53D6;&#x6570;&#x636E;"><a name="get&#x65B9;&#x6CD5;&#xFF1A;&#x83B7;&#x53D6;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#get&#x65B9;&#x6CD5;&#xFF1A;&#x83B7;&#x53D6;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>get()&#x65B9;&#x6CD5;&#xFF1A;&#x83B7;&#x53D6;&#x6570;&#x636E;</h4>
<p> &#x5FEB;&#x901F;&#x83B7;&#x53D6;&#x6570;&#x636E; <a href="#get">get</a></p>
<h4 id="put&#x65B9;&#x6CD5;&#xFF1A;&#x5FEB;&#x901F;&#x4FEE;&#x6539;"><a name="put&#x65B9;&#x6CD5;&#xFF1A;&#x5FEB;&#x901F;&#x4FEE;&#x6539;" class="anchor-navigation-ex-anchor" href="#put&#x65B9;&#x6CD5;&#xFF1A;&#x5FEB;&#x901F;&#x4FEE;&#x6539;"><i class="fa fa-link" aria-hidden="true"></i></a>put()&#x65B9;&#x6CD5;&#xFF1A;&#x5FEB;&#x901F;&#x4FEE;&#x6539;</h4>
<p> &#x5FEB;&#x901F;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x53C2;&#x770B; <a href="#put">put</a></p>
<h3 id="65182-object&#x64CD;&#x4F5C;"><a name="65182-object&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#65182-object&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.8.2. Object&#x64CD;&#x4F5C;</h3>
<p><code>Orm</code>&#x5B9E;&#x73B0;&#x4E86;&#x7C7B;&#x7684;<code>__set()</code>&#x548C;<code>__get()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#x6210;&#x5458;<code>-&gt;</code>&#x64CD;&#x4F5C;&#x7B26;&#x8BFB;&#x53D6;&#x548C;&#x8BBE;&#x7F6E;&#x6570;&#x636E;
&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8BFB;&#x53D6;&#x6570;&#x636E;<strong>&#x4E0D;&#x4F1A;&#x8BFB;&#x53D6;&#x6216;&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;</strong>&#x3002;</p>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x4FEE;&#x6539;&#x6570;&#x636E;*/</span>
$orm-&gt;status=<span class="hljs-number">1</span>;<span class="hljs-comment">//&#x4E0E;&#x4E0B;&#x9762;&#x64CD;&#x4F5C;&#x7B49;&#x6548;</span>
$orm-&gt;set(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>);

<span class="hljs-comment">/*&#x8BFB;&#x53D6;&#x6570;&#x636E;*/</span>
$status=$orm-&gt;status;<span class="hljs-comment">//&#x4E0E;&#x4E0B;&#x9762;&#x64CD;&#x4F5C;&#x7B49;&#x6548;&#x679C;</span>
$status=$orm-&gt;get(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-keyword">false</span>);
</code></pre>
<h3 id="65183-array&#x63A5;&#x53E3;"><a name="65183-array&#x63A5;&#x53E3;" class="anchor-navigation-ex-anchor" href="#65183-array&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.8.3. Array&#x63A5;&#x53E3;</h3>
<p><code>Orm</code>&#x4E5F;&#x5B9E;&#x73B0;&#x4E86;&#x6570;&#x7EC4;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>[]</code>&#x64CD;&#x4F5C;&#x7B26;&#x8BFB;&#x53D6;&#x548C;&#x4FEE;&#x6539;&#x6570;&#x636E;</p>
<pre><code class="lang-php"><span class="hljs-comment">/*&#x4FEE;&#x6539;&#x6570;&#x636E;*/</span>
$orm[<span class="hljs-string">&apos;status&apos;</span>]=<span class="hljs-number">1</span>;<span class="hljs-comment">//&#x4E0E;&#x4E0B;&#x9762;&#x64CD;&#x4F5C;&#x7B49;&#x6548;</span>
$orm-&gt;set(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-number">1</span>);

<span class="hljs-comment">/*&#x8BFB;&#x53D6;&#x6570;&#x636E;*/</span>
$status=$orm[<span class="hljs-string">&apos;status&apos;</span>];<span class="hljs-comment">//&#x4E0E;&#x4E0B;&#x9762;&#x64CD;&#x4F5C;&#x7B49;&#x6548;&#x679C;</span>
$status=$orm-&gt;get(<span class="hljs-string">&apos;status&apos;</span>,<span class="hljs-keyword">false</span>);
</code></pre>
<h3 id="65184-json&#x5E8F;&#x5217;&#x5316;"><a name="65184-json&#x5E8F;&#x5217;&#x5316;" class="anchor-navigation-ex-anchor" href="#65184-json&#x5E8F;&#x5217;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>6.5.1.8.4. JSON&#x5E8F;&#x5217;&#x5316;</h3>
<p>&#x53EF;&#x4EE5;&#x5BF9;<code>Orm</code>&#x5BF9;&#x8C61;&#x76F4;&#x63A5;&#x8FDB;&#x884C;<code>json_encode()</code>&#x5BF9;&#x5176;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x865A;&#x62DF;&#x5316;&#x3002;
&#x56E0;&#x6B64;&#x53EF;&#x4EE5;<strong>&#x5728;YYF&#x7684;REST&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;</strong>&#x8D4B;&#x503C;&#x7ED9;<code>response</code>,&#x4F1A;&#x76F4;&#x63A5;&#x865A;&#x62DF;&#x5316;&#x5176;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<pre><code class="lang-php">$orm-&gt;find(<span class="hljs-number">1</span>);
<span class="hljs-keyword">echo</span> json_encode($orm);
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; NewFuture 2016 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4E0A;&#x6B21;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF1A;
2017-05-28 12:10:52
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="model.html" class="navigation navigation-prev " aria-label="Previous page: Model 数据模型">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="database.html" class="navigation navigation-next " aria-label="Next page: Database 数据库连接">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Orm 数据对象映射","level":"6.5","depth":1,"next":{"title":"Database 数据库连接","level":"6.6","depth":1,"path":"database/database.md","ref":"database/database.md","articles":[]},"previous":{"title":"Model 数据模型","level":"6.4","depth":1,"path":"database/model.md","ref":"database/model.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-lunr","search-jieba","edit-link","canonical-link","github","anchors","tbfed-pagefooter","anchor-navigation-ex","include-codeblock"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"search-jieba":{},"tbfed-pagefooter":{"copyright":"Copyright &copy NewFuture 2016","modify_label":"上次修改时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/YunYinORG/YYF"},"search":{},"fontsettings":{"theme":"white","family":"sans","size":2},"canonical-link":{"baseURL":"https://yyf.newfuture.cc"},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"showLevel":true},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"chrome","unindent":false},"edit-link":{"label":"在GITHUB上修改此页","base":"https://github.com/NewFuture/YYF-book/blob/master/"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{}},"theme":"default","author":"New Future","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"YYF Book | YYF文档","language":"zh-hans","links":{"sidebar":{"YYF":"https://github.com/YunYinORG/YYF"}},"gitbook":"*","description":"YYF框架开发文档,Yunyin Yaf Framework 高性能PHP后端RESTful框架,完全前后端分离架构"},"file":{"path":"database/orm.md","mtime":"2017-05-28T12:10:52.199Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-05-28T12:15:22.010Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-jieba/pouchdb.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-jieba/pouchdb.load.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-jieba/search-jieba.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

